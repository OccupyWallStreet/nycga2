/**
 * SlideDeck 1.3.8 Pro - 2012-06-14
 * 
 * More information on this project:
 * http://www.slidedeck.com/
 * 
 * Requires: jQuery v1.3+
 * 
 * Full Usage Documentation: http://www.slidedeck.com/usage-documentation 
 * Usage:
 *     $(el).slidedeck(opts);
 * 
 * @param {HTMLObject} el    The <DL> element to extend as a SlideDeck
 * @param {Object} opts      An object to pass custom override options to
 */

/*
Copyright 2012 digital-telepathy  (email : support@digital-telepathy.com)

This file is part of SlideDeck.

SlideDeck is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

SlideDeck is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with SlideDeck.  If not, see <http://www.gnu.org/licenses/>.
*/
var SlideDeck;var SlideDeckSkin={};var SlideDeckLens={};(function(a){window.SlideDeck=function(K,v){var k=this,K=a(K);var o="1.3.8";this.options={speed:500,transition:"swing",start:1,activeCorner:true,index:true,scroll:true,keys:true,autoPlay:false,autoPlayInterval:5000,hideSpines:false,cycle:false,slideTransition:"slide",touchThreshold:{x:50,y:30},touch:true,controlProgress:false};this.classes={slide:"slide",spine:"spine",label:"label",index:"index",active:"active",indicator:"indicator",activeCorner:"activeCorner",disabled:"disabled",vertical:"slidesVertical",previous:"previous",next:"next"};this.current=1;this.deck=K;this.former=-1;this.spines=K.children("dt");this.slides=K.children("dd");this.controlTo=1;this.session=[];this.disabledSlides=[];this.pauseAutoPlay=false;this.isLoaded=false;var x=navigator.userAgent.toLowerCase();this.browser={chrome:x.match(/chrome/)?true:false,firefox:x.match(/firefox/)?true:false,firefox2:x.match(/firefox\/2/)?true:false,firefox30:x.match(/firefox\/3\.0/)?true:false,msie:x.match(/msie/)?true:false,msie6:(x.match(/msie 6/)&&!x.match(/msie 7|8/))?true:false,msie7:x.match(/msie 7/)?true:false,msie8:x.match(/msie 8/)?true:false,msie9:x.match(/msie 9/)?true:false,chromeFrame:(x.match(/msie/)&&x.match(/chrome/))?true:false,opera:x.match(/opera/)?true:false,safari:(x.match(/safari/)&&!x.match(/chrome/))?true:false};for(var L in this.browser){if(this.browser[L]===true){this.browser._this=L}}if(this.browser.chrome===true&&!this.browser.chromeFrame){this.browser.version=x.match(/chrome\/([0-9\.]+)/)[1]}if(this.browser.firefox===true){this.browser.version=x.match(/firefox\/([0-9\.]+)/)[1]}if(this.browser.msie===true){this.browser.version=x.match(/msie ([0-9\.]+)/)[1]}if(this.browser.opera===true){this.browser.version=x.match(/version\/([0-9\.]+)/)[1]}if(this.browser.safari===true){this.browser.version=x.match(/version\/([0-9\.]+)/)[1]}var c;var e;var t,h,s,l;this.looping=false;var E="";switch(k.browser._this){case"firefox":case"firefox3":E="-moz-";break;case"chrome":case"safari":E="-webkit-";break;case"opera":E="-o-";break}var z=function(S){if(k.browser.msie&&!k.browser.msie9){var R=S.css("background-color");var Q=R;if(Q=="transparent"){R="#ffffff"}else{if(Q.match("#")){if(Q.length<7){var N="#"+Q.substr(1,1)+Q.substr(1,1)+Q.substr(2,1)+Q.substr(2,1)+Q.substr(3,1)+Q.substr(3,1);R=N}}}R=R.replace("#","");var O={r:R.substr(0,2),g:R.substr(2,2),b:R.substr(4,2)};var M="#";var P="01234567890ABCDEF";for(var b in O){O[b]=Math.max(0,(parseInt(O[b],16)-1));O[b]=P.charAt((O[b]-O[b]%16)/16)+P.charAt(O[b]%16);M+=O[b]}S.find("."+k.classes.index).css({filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=1) chroma(color="+M+")",backgroundColor:M})}};var A=function(){if(typeof(Cufon)!="undefined"){Cufon.DOM.ready(function(){if(typeof(k.options.cufonRefresh)!="undefined"){var M=[];if(typeof(k.options.cufonRefresh)=="string"){M.push(k.options.cufonRefresh)}else{M=k.options.cufonRefresh}for(var N=0;N<M.length;N++){Cufon.refresh(M[N])}}if(k.options.hideSpines===false){var b=0;if(k.browser.msie8&&!k.browser.chromeFrame){b=Math.floor((a(k.spines[0]).outerWidth()-a(a(k.spines[0]).find("cufon")[0]).height())/2)}if(k.browser.safari||k.browser.chrome||k.browser.chromeFrame){if(document.doctype.publicId.toLowerCase().match(/transitional/)){b=Math.floor((a(k.spines[0]).outerHeight()-a(a(k.spines[0]).find("cufon")[0]).height())/2)}}k.spines.find(">cufon").css("margin-top",b)}})}};var f=false;var F=function(){var b=document.getElementsByTagName("script");for(var O=0;O<b.length;O++){var P=b[O].src;if(P.match(/slidedeck\.jquery(\.(pro|profree))?(\.pack)?\.js/)){var N=P.split("?");if(N.length>1){if(N[1].match(/noping/)){f=true}}}}if(f===false){f=true;var M=new Image();M.src=(document.location.protocol=="https:"?"https:":"http:")+"//www.slidedeck.com/6885858486f31043e5839c735d99457f045affd0/"+o+"/pro"}};var J=function(){if(k.options.controlProgress===true){for(var b=0;b<k.spines.length;b++){if(b<k.controlTo){a(k.spines[b]).removeClass(k.classes.disabled)}else{a(k.spines[b]).addClass(k.classes.disabled)}}}};var r=function(M){var b=false;if(typeof(k.verticalSlides)!="undefined"){if(typeof(k.vertical().options)!="undefined"){if(k.vertical().options.scroll===true&&a(M.target).parents("."+k.classes.vertical).length>0){b=true}}}return b};var B={timestamp:function(){var b=new Date();var M=b.getUTCFullYear()+"-"+b.getUTCMonth()+"-"+b.getUTCDate()+" "+b.getUTCHours()+":"+b.getUTCMinutes()+":"+b.getUTCSeconds();var O=(0-b.getTimezoneOffset()/60);var P=Math.floor(O);var N="00";if(P!=O){N=(O-P)*60}return M+P+":"+N},track:function(b){if(k.session.length===0||k.session[k.session.length-1].slide!=b){k.session.push({slide:b,timestamp:this.timestamp()})}}};var H=function(){var b=false,N=false;var M=function(){b=false;if(k.pauseAutoPlay===false&&k.options.autoPlay===true){if(typeof(k.vertical())!="undefined"){if(k.vertical().navChildren){if(k.vertical().current+1!=k.vertical().slides.length){b=true}}}var O=true;if(k.options.cycle===false&&k.current==k.slides.length){if(b===true){if(k.vertical().current+1===k.vertical().slides.length){O=false}}else{O=false}}if(O===false){k.pauseAutoPlay=true}else{if(b===true){if(k.vertical().current+2==k.vertical().slides.length){b=false;N=k.current}k.vertical().next()}else{if(k.slides.length==1&&k.current==k.slides.length){if(N!==false){k.resetVertical(N,false);N=false}}else{if(k.former!=-1){if(typeof(k.verticalSlides[k.former])!="undefined"){if(typeof(k.verticalSlides[k.former].navChildren)!="undefined"){k.resetVertical(k.former+1)}}}k.next(function(P){if(N!==false){P.resetVertical(N);N=false}})}}}}setTimeout(M,k.options.autoPlayInterval)};setTimeout(M,k.options.autoPlayInterval)};var u=function(O,b){var M={display:"block"};M[E+"transform-origin"]="50% 50%";M[E+"transform"]="";if(b<k.current){var N=b*h;if(k.options.hideSpines===true){if(b==k.current-1){N=0}else{N=0-(k.options.start-b-1)*K.width()}}}else{var N=b*h+s;if(k.options.hideSpines===true){N=(b+1-k.options.start)*K.width()}}switch(O){case"stack":case"fade":M.zIndex=k.slides.length-b;M.left=0;break;case"flip":M.zIndex=k.slides.length-b;M.left=0;if(b!=(k.current-1)){M[E+"transform"]="scaleY(0)"}break;case"flipHorizontal":M.zIndex=k.slides.length-b;M.left=0;if(b!=(k.current-1)){M[E+"transform"]="scaleX(0)"}break;case"slide":default:M.left=N;M.zIndex=1;break}k.slides.eq(b).css(E+"transition","").css(M);return N};var m=function(){if(a.inArray(K.css("position"),["position","absolute","fixed"])){K.css("position","relative")}K.css("overflow","hidden");for(var aa=0;aa<k.slides.length;aa++){var M=a(k.slides[aa]);if(k.spines.length>aa){var b=a(k.spines[aa])}var R={top:parseInt(M.css("padding-top"),10),right:parseInt(M.css("padding-right"),10),bottom:parseInt(M.css("padding-bottom"),10),left:parseInt(M.css("padding-left"),10)};var Y={top:parseInt(M.css("border-top-width"),10),right:parseInt(M.css("border-right-width"),10),bottom:parseInt(M.css("border-bottom-width"),10),left:parseInt(M.css("border-left-width"),10)};for(var Z in Y){Y[Z]=isNaN(Y[Z])?0:Y[Z]}if(aa<k.current){if(aa==k.current-1){if(k.options.hideSpines!==true){b.addClass(k.classes.active)}M.addClass(k.classes.active)}}k.slide_width=(s-R.left-R.right-Y.left-Y.right);var O={position:"absolute",height:(e-R.top-R.bottom-Y.top-Y.bottom)+"px",width:k.slide_width+"px",margin:0,paddingLeft:R.left+h+"px"};var Q=u(k.options.slideTransition,aa);M.css(O).addClass(k.classes.slide).addClass(k.classes.slide+"_"+(aa+1));if(k.options.hideSpines!==true){var U={top:parseInt(b.css("padding-top"),10),right:parseInt(b.css("padding-right"),10),bottom:parseInt(b.css("padding-bottom"),10),left:parseInt(b.css("padding-left"),10)};for(var Z in U){if(U[Z]<10&&(Z=="left"||Z=="right")){U[Z]=10}}var ac=U.top+"px "+U.right+"px "+U.bottom+"px "+U.left+"px";var N={position:"absolute",zIndex:3,display:"block",left:Q,width:(e-U.left-U.right)+"px",height:t+"px",padding:ac,rotation:"270deg","-webkit-transform":"rotate(270deg)","-webkit-transform-origin":l+"px 0px","-moz-transform":"rotate(270deg)","-moz-transform-origin":l+"px 0px","-o-transform":"rotate(270deg)","-o-transform-origin":l+"px 0px",textAlign:"right"};if(!k.browser.msie9){N.top=(k.browser.msie)?0:(e-l)+"px";N.marginLeft=((k.browser.msie)?0:(0-l))+"px";var V=document.getElementsByTagName("html")[0].dir;if(V.toLowerCase()=="rtl"&&k.browser.msie8===true){N.marginLeft=(0-e+l*2)+"px"}N.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=3)"}b.css(N).addClass(k.classes.spine).addClass(k.classes.spine+"_"+(aa+1));if(k.browser.msie9){b[0].style.msTransform="rotate(270deg)";b[0].style.msTransformOrigin=Math.round(parseInt(K[0].style.height,10)/2)+"px "+Math.round(parseInt(K[0].style.height,10)/2)+"px"}}else{if(typeof(b)!="undefined"){b.hide()}}if(aa==k.slides.length-1){M.addClass("last");if(k.options.hideSpines!==true){b.addClass("last")}}if(k.options.activeCorner===true&&k.options.hideSpines===false){var T=document.createElement("DIV");T.className=k.classes.activeCorner+" "+(k.classes.spine+"_"+(aa+1));b.after(T);b.next("."+k.classes.activeCorner).css({position:"absolute",top:"25px",left:Q+h+"px",overflow:"hidden",zIndex:"20000"}).hide();if(b.hasClass(k.classes.active)){b.next("."+k.classes.activeCorner).show()}}if(k.options.hideSpines!==true){var S=document.createElement("DIV");S.className=k.classes.index;if(k.options.index!==false){var W;if(typeof(k.options.index)!="boolean"){W=k.options.index[aa%k.options.index.length]}else{W=""+(aa+1)}S.appendChild(document.createTextNode(W))}b.append(S);b.find("."+k.classes.index).css({position:"absolute",zIndex:2,display:"block",width:t+"px",height:t+"px",textAlign:"center",bottom:((k.browser.msie)?0:(0-l))+"px",left:((k.browser.msie)?5:20)+"px",rotation:"90deg","-webkit-transform":"rotate(90deg)","-webkit-transform-origin":l+"px 0px","-moz-transform":"rotate(90deg)","-moz-transform-origin":l+"px 0px","-o-transform":"rotate(90deg)","-o-transform-origin":l+"px 0px"});if(k.browser.msie9){b.find("."+k.classes.index)[0].style.msTransform="rotate(90deg)"}z(b)}}F();if(k.options.hideSpines!==true){k.spines.bind("click",function(ad){ad.preventDefault();k.goTo(k.spines.index(this)+1)})}a(document).bind("keydown",function(ad){if(k.options.keys!==false){if(a(ad.target).parents().index(k.deck)==-1){if(ad.keyCode==39){k.pauseAutoPlay=true;k.next()}else{if(ad.keyCode==37){k.pauseAutoPlay=true;k.prev()}}}}});if(typeof(a.event.special.mousewheel)!="undefined"){K.bind("mousewheel",function(ae,ag){if(k.options.scroll!==false){if(!r(ae)){var af=ae.detail?ae.detail:ae.wheelDelta;if(typeof(af)=="undefined"){af=0-ag}var ad=false;if(a(ae.originalTarget).parents(k.deck).length){if(a.inArray(ae.originalTarget.nodeName.toLowerCase(),["input","select","option","textarea"])!=-1){ad=true}}if(ad!==true){if(af>0){switch(k.options.scroll){case"stop":ae.preventDefault();break;case true:default:if(k.current<k.slides.length||k.options.cycle===true){ae.preventDefault()}break}k.pauseAutoPlay=true;k.next()}else{switch(k.options.scroll){case"stop":ae.preventDefault();break;case true:default:if(k.current!=1||k.options.cycle===true){ae.preventDefault()}break}k.pauseAutoPlay=true;k.prev()}}}}})}if((k.browser.msie!==true)&&(k.options.touch!==false)){var ab={x:0,y:0};var X={x:0,y:0};var P=k.options.touchThreshold;K[0].addEventListener("touchstart",function(ad){ab.x=ad.targetTouches[0].pageX;ab.y=ad.targetTouches[0].pageY},false);K[0].addEventListener("touchmove",function(ad){ad.preventDefault();X.x=ad.targetTouches[0].pageX;X.y=ad.targetTouches[0].pageY},false);K[0].addEventListener("touchend",function(ah){var ad=ab.x-P.x;var ag=ab.x+P.x;var af=ab.y-P.y;var ae=ab.y+P.y;if(X.x!=0){if(X.x<=ad){k.pauseAutoPlay=true;k.next()}else{if(X.x>=ag){k.pauseAutoPlay=true;k.prev()}}}if(X.y!=0){if(X.y<=af){k.pauseAutoPlay=true;k.vertical().next()}else{if(X.y>=ae){k.pauseAutoPlay=true;k.vertical().prev()}}}ab={x:0,y:0};X={x:0,y:0}},false)}a(k.spines[k.current-2]).addClass(k.classes.previous);a(k.spines[k.current]).addClass(k.classes.next);A();J();B.track(k.current);H();k.isLoaded=true};var D=function(b){b=Math.max(1,b-1);if(a.inArray(b,k.disabledSlides)!=-1){if(b==1){b=1}else{b=D(b)}}return b};var q=function(b){b=Math.min(k.slides.length,b+1);if(a.inArray(b,k.disabledSlides)!=-1){if(b==k.slides.length){b=k.current}else{b=q(b)}}return b};var w=function(b){b=Math.min(k.slides.length,Math.max(1,b));if(a.inArray(b,k.disabledSlides)!=-1){if(b<k.current){b=D(b)}else{b=q(b)}}return b};var C=function(N){var M=[];if(typeof(k.options.complete)=="function"){M.push(function(){k.options.complete(k)})}switch(typeof(N)){case"function":M.push(function(){N(k)});break;case"object":M.push(function(){N.complete(k)});break}B.track(k.current);var b=function(){k.looping=false;for(var O=0;O<M.length;O++){M[O](k)}};return b};var j={fade:function(M,O,b){var N=k.slides.eq(k.current-1);k.slides.not(N).stop().animate({opacity:0},k.options.speed,function(){this.style.display="none"});N.css({display:"block",opacity:0}).stop().animate({opacity:1},k.options.speed,function(){this.style.display="block";C(O)()})},flip:function(O,P,R,M){var X=(k.options.speed/1000)/2;var T=k.slides.eq(k.former-1);var Q=k.slides.eq(k.current-1);if(typeof(M)=="undefined"){M=false}var W=M==true?"X":"Y";var b={position:"absolute",zIndex:999,top:0,right:0,bottom:0,left:0,width:"100%",height:"100%",opacity:0};var V=T.find(".slidedeck-slide-mask");if(V.length){V.remove()}T.append('<div class="slidedeck-slide-mask mask-out"></div>');V=T.find(".slidedeck-slide-mask").css(b);var U=Q.find(".slidedeck-slide-mask");if(U.length){V.remove()}Q.append('<div class="slidedeck-slide-mask mask-in"></div>');b.opacity=1;U=Q.find(".slidedeck-slide-mask").css(b);var S={};S[E+"transition"]="";S[E+"transform-origin"]="50% 50%";S[E+"transform"]="scale"+W+"(0)";k.slides.not(T).css(S);var N={};N[E+"transform-origin"]="50% 50%";N[E+"transform"]="scale"+W+"(0)";T.css(E+"transition",E+"transform "+X+"s ease-out").css(N);V.animate({opacity:1},{duration:k.options.speed/2,complete:function(){V.remove()}});U.animate({opacity:1},{duration:k.options.speed/2,complete:function(){N[E+"transform"]="scale"+W+"(1)";Q.addClass(k.classes.active).css(E+"transition",E+"transform "+X+"s ease-out").css(N);U.animate({opacity:0},{dureation:k.options.speed/2,complete:function(){k.slides.css(E+"transition","");var Y={};Y[E+"transform-origin"]="50% 50%";Y[E+"transform"]="scale"+W+"(1)";k.slides.eq(k.current-1).css(Y);C(P)();V.remove();U.remove()}})}})},flipHorizontal:function(M,N,b){this.flip(M,N,b,true)},stack:function(P,Q,N){if((k.current==k.slides.length&&k.former==1)||(k.former==k.slides.length&&k.current==1)){k.looping=true}for(var O=0;O<k.slides.length;O++){var R=0;var b=k.slides.eq(O);if(k.looping===false){if(O<k.current-1){if(O==(k.current-1)){b.addClass(k.classes.active);A()}R=(0-c)}else{R=0}}else{if(k.former==k.slides.length&&k.current==1){if(O==(k.current)-1){b.css({left:0,zIndex:5}).addClass(k.classes.active);A();R=0}else{if(O==(k.former-1)){b.css("z-index",10);R=0-c}else{b.css("z-index",1);R=0}}}else{if(k.former==1&&k.current==k.slides.length){if(O!=k.former-1){if(O==(k.current-1)){b.css({left:(0-c),zIndex:100});b.addClass(k.classes.active);A();R=0}}}}}var M={duration:k.options.speed,easing:k.options.transition};if(O==(N===true&&k.current-1)||O==(N===false&&k.current)){if(O==k.current-1){M.complete=function(){if(k.looping===true){k.slides.each(function(S){if(S!=(k.current-1)){this.style.left=(k.current==1?0:(0-c))+"px"}this.style.zIndex=k.slides.length-S})}C(Q)()}}}b.stop().animate({left:R,width:k.slide_width},M)}},slide:function(P,R,N){for(var O=0;O<k.slides.length;O++){var S=0;if(k.options.hideSpines!==true){var Q=a(k.spines[O])}var b=a(k.slides[O]);if(O<k.current){if(O==(k.current-1)){b.addClass(k.classes.active);if(k.options.hideSpines!==true){Q.addClass(k.classes.active);Q.next("."+k.classes.activeCorner).show()}A()}S=O*h}else{S=O*h+s}if(k.options.hideSpines===true){S=(O-k.current+1)*K.width()}var M={duration:k.options.speed,easing:k.options.transition};if(O==(N===true&&k.current-1)||O==(N===false&&k.current)){if(O===0){M.complete=C(R)}}b.stop().animate({left:S+"px",width:k.slide_width+"px"},M);if(k.options.hideSpines!==true){z(Q);if(Q.css("left")!=S+"px"){Q.stop().animate({left:S+"px"},{duration:k.options.speed,easing:k.options.transition});Q.next("."+k.classes.activeCorner).stop().animate({left:S+h+"px"},{duration:k.options.speed,easing:k.options.transition})}}}}};var d=function(O,P){O=w(O);if((O<=k.controlTo||k.options.controlProgress!==true)&&k.looping===false){var b=true;if(O<k.current){b=false}var N=[k.classes.active,k.classes.next,k.classes.previous].join(" ");k.former=k.current;k.current=O;if(typeof(k.options.before)=="function"){k.options.before(k)}if(typeof(P)!="undefined"){if(typeof(P.before)=="function"){P.before(k)}}if(k.current!=k.former){k.spines.removeClass(N);k.slides.removeClass(N);K.find("."+k.classes.activeCorner).hide();k.spines.eq(k.current-2).addClass(k.classes.previous);k.spines.eq(k.current).addClass(k.classes.next);var M="slide";if(typeof(j[k.options.slideTransition])!="undefined"){M=k.options.slideTransition}j[M](O,P,b)}F()}};var p=function(P,Q){var O=P;if(typeof(P)==="string"){O={};O[P]=Q}for(var N in O){Q=O[N];switch(N){case"speed":case"start":Q=parseFloat(Q);if(isNaN(Q)){Q=k.options[N]}break;case"autoPlay":if(typeof(Q)!=="boolean"){Q=k.options[N]}k.pauseAutoPlay=false;break;case"scroll":case"keys":case"activeCorner":case"controlProgress":case"hideSpines":case"cycle":if(typeof(Q)!=="boolean"){Q=k.options[N]}break;case"cufonRefresh":case"transition":if(typeof(Q)!=="string"){Q=k.options[N]}break;case"complete":case"before":if(typeof(Q)!=="function"){Q=k.options[N]}break;case"index":if(typeof(Q)!=="boolean"){if(!a.isArray(Q)){Q=k.options[N]}}break;case"slideTransition":for(var b in j){if(Q==b){switch(k.browser._this){case"msie":case"msie7":case"msie8":case"msie9":switch(Q){case"flip":case"flipHorizontal":Q="fade";break}break}k.options.slideTransition=Q;for(var M=0;M<k.slides.length;M++){u(k.options.slideTransition,M)}}}break}k.options[N]=Q}};var G=function(b){if(a.inArray(b,k.disabledSlides)==-1&&b!==1&&b!==0){k.disabledSlides.push(b)}};var g=function(M){var b=a.inArray(M,k.disabledSlides);if(b!=-1){k.disabledSlides.splice(b,1)}};var I=function(M,W,b){var aa=this;var M=a(M);var N=M.children();if(M[0].nodeName=="DL"){N=M.children("dd");var Z=M.children("dt").hide()}var V=N.length;var O=M.parents("dd.slide");var Q=M.parent();var Y=O.innerHeight();var U=100;if(W.deck.find("."+W.classes.activeCorner).length){U=W.deck.find("."+W.classes.activeCorner).css("z-index")-1}this.navParent=null;this.navChildren=null;this.current=0;this.slides=N;this.options={speed:500,scroll:true,continueScrolling:W.options.continueScrolling};if(typeof(b)=="object"){for(var P in b){this.options[P]=b[P]}}this.classes={navContainer:"verticalSlideNav",arrow:"arrow",prefix:"verticalSlide"};var S=function(ac,ab,ae){aa.current=ac;if(typeof(aa.options.before)=="function"){aa.options.before(aa)}if(typeof(ae)=="object"){if(typeof(ae.before)=="function"){ae.before(aa)}}var ad=aa.options.speed;if(typeof(ab)!="undefined"){ad=0}ad=parseInt(ad,10);O.find("ul."+aa.classes.navContainer+" li."+aa.classes.arrow).stop().animate({top:a(aa.navChildren[aa.current]).position().top+"px"},ad);aa.navChildren.removeClass("active");a(aa.navChildren[aa.current]).addClass("active");M.stop().animate({top:0-(aa.current*Y)+"px"},{duration:ad,easing:W.options.transition,complete:function(){if(typeof(aa.options.complete)=="function"){aa.options.complete(aa)}if(typeof(ae)=="object"){if(typeof(ae.complete)=="function"){ae.complete(aa)}}else{if(typeof(ae)=="function"){ae(W)}}}})};var X=function(){var ad=document.createElement("UL");ad.className=aa.classes.navContainer;ad.style.position="absolute";ad.style.zIndex=U;ad.style.listStyleType="none";for(var ac=0;ac<V;ac++){var af=document.createElement("LI");af.className="nav_"+(ac+1)+(ac===0?" active":"");af.style.listStyleType="none";var ab=document.createElement("A");if(N[ac].id){ab.href="#"+N[ac].id}else{ab.href="#"+(ac+1)}ab.className="nav_"+(ac+1);var ag="Nav "+(ac+1);if(typeof(Z)!="undefined"){ag=Z.eq(ac).html()}ab.innerHTML=ag;af.appendChild(ab);ad.appendChild(af)}var ae=document.createElement("LI");ae.className=aa.classes.arrow;ae.style.top=0;ae.appendChild(document.createTextNode(" "));ad.appendChild(ae);O.append(ad);aa.navChildren=O.find("."+ad.className+" li");O.find("."+ad.className+" li a").click(function(ah){ah.preventDefault();W.pauseAutoPlay=true;S(this.className.match("nav_([0-9]+)")[1]-1)})};this.goTo=function(ac,ad,ab){ac=Math.min(V-1,Math.max(0,ac-1));ad=Math.min(W.slides.length-1,Math.max(0,ac));a(W.slides[ad]).find("."+this.classes.navContainer+" a:eq("+ac+")").addClass(W.classes.active).siblings().removeClass(W.classes.active);S(ac,ab)};this.next=function(ab){S(Math.min(V-1,aa.current+1),undefined,ab)};this.prev=function(ab){S(Math.max(0,aa.current-1),undefined,ab)};this.snapTo=function(ab,ac){S(Math.max(0,Math.min(V-1,ab)),true,ac)};var R=function(){if(!O.find("."+aa.classes.navContainer).length){var ad=(((W.browser.msie!==true)||W.browser.msie9)?a(W.spines[0]).outerHeight():a(W.spines[0]).outerWidth());if(W.options.hideSpines===true){ad=0}M.css({position:"absolute",zIndex:U-1,top:"0px",left:ad,listStyleType:"none",padding:"0px",margin:"0px",width:Q.innerWidth()-ad,height:Y*V});var ac={top:parseInt(N.css("padding-top"),10),right:parseInt(N.css("padding-right"),10),bottom:parseInt(N.css("padding-bottom"),10),left:parseInt(N.css("padding-left"),10)};var ag={top:parseInt(N.css("border-top-width"),10),right:parseInt(N.css("border-right-width"),10),bottom:parseInt(N.css("border-bottom-width"),10),left:parseInt(N.css("border-left-width"),10)};for(var ab in ag){if(isNaN(ag[ab])){ag[ab]=0}}var ae=Y-ac.top-ac.bottom-ag.top-ag.bottom;var af=M.width()-ac.right-ac.left-ag.right-ag.left;N.each(function(ah,ai){a(ai).css({listStyleType:"none",position:"absolute",top:ah*Y,width:af,height:ae}).addClass(aa.classes.prefix+"_"+(ah+1))});Q.css({overflow:"hidden"});X();if(typeof(a.event.special.mousewheel)!="undefined"){M.bind("mousewheel",function(ai,am){if(aa.options.scroll!==false){var al=ai.detail?ai.detail:ai.wheelDelta;if(typeof(al)=="undefined"){al=0-am}var ah=false;if(a(ai.originalTarget).parents(aa.deck).length){if(a.inArray(ai.originalTarget.nodeName.toLowerCase(),["input","select","option","textarea"])!=-1){ah=true}}if(ah!==true){var ak,aj=false;if(aa.options.continueScrolling===true){if((aa.current+1)==1){ak=true}else{if((aa.current+1)==aa.slides.length){aj=true}}}if(al>0){ai.preventDefault();W.pauseAutoPlay=true;if(aj){W.next();return false}else{aa.next()}}else{ai.preventDefault();W.pauseAutoPlay=true;if(ak){W.prev();return false}else{aa.prev()}}}}})}}};if(Y>0){R()}else{var T;T=setInterval(function(){M=a(M);N=M.children();V=N.length;O=M.parents("dd.slide");Q=M.parent();Y=O.innerHeight();if(Y>0){clearInterval(T);R()}},20)}};var n=function(){e=K.height();c=K.width();K.css("height",e+"px");t=0;h=0;if(k.options.hideSpines!==true&&k.spines.length>0){t=a(k.spines[0]).height();h=a(k.spines[0]).outerHeight()}s=c-h*k.spines.length;if(k.options.hideSpines===true){s=c}l=Math.ceil(t/2)};var i=function(M){if((k.browser.opera&&k.browser.version<"10.5")||k.browser.msie6||k.browser.firefox2||k.browser.firefox30){if(typeof(console)!="undefined"){if(typeof(console.error)=="function"){console.error("This web browser is not supported by SlideDeck. Please view this page in a modern, CSS3 capable browser or a current version of Inernet Explorer")}}return false}if(typeof(M)!="undefined"){for(var b in M){k.options[b]=M[b]}}if(k.spines.length<1){k.options.hideSpines=true}switch(k.browser._this){case"msie":case"msie7":case"msie8":case"msie9":switch(k.options.slideTransition){case"flip":case"flipHorizontal":k.options.slideTransition="fade";break}break}switch(k.options.slideTransition){case"flip":case"flipHorizontal":case"fade":case"stack":k.options.hideSpines=true;break}if(k.options.hideSpines===true){k.options.activeCorner=false}k.current=Math.min(k.slides.length,Math.max(1,k.options.start));if(K.height()>0){n();m()}else{var N;N=setTimeout(function(){n();if(K.height()>0){clearInterval(N);n();m()}},20)}};var y=function(M){var b;b=setInterval(function(){if(k.isLoaded===true){clearInterval(b);M(k)}},20)};this.loaded=function(b){y(b);return k};this.next=function(M){var b=Math.min(k.slides.length,(k.current+1));if(k.options.cycle===true){if(k.current+1>k.slides.length){b=1}}d(b,M);return k};this.prev=function(M){var b=Math.max(1,(k.current-1));if(k.options.cycle===true){if(k.current-1<1){b=k.slides.length}}d(b,M);return k};this.goTo=function(b,N){k.pauseAutoPlay=true;if(typeof(b)=="string"){if(b==":first"){b=k.slides.filter(":first")}else{if(b==":last"){b=k.slides.filter(":last")}else{if(!b.match(/^\#/)){b="#"+b}}}var M=k.slides.index(a(b));if(M!=-1){b=M+1}else{return false}}d(Math.min(k.slides.length,Math.max(1,b)),N);return k};this.progressTo=function(b,M){k.pauseAutoPlay=true;k.updateControlTo(b);k.goTo(b,M);return k};this.updateControlTo=function(b){k.controlTo=b;J();return k};this.disableSlide=function(b){G(b);return k};this.enableSlide=function(b){g(b);return k};this.setOption=function(b,M){p(b,M);return k};this.vertical=function(P){var M=this;if(typeof(this.verticalSlides)=="undefined"){this.verticalSlides={};for(var N=0;N<this.slides.length;N++){var O=a(this.slides[N]).find("."+this.classes.vertical);var b={next:function(){return false},prev:function(){return false},goTo:function(){return false}};if(O.length){b=new I(O,this,P)}this.verticalSlides[N]=b}}else{return this.verticalSlides[this.current-1]}};this.goToVertical=function(b,M){if(typeof(M)!="undefined"){if(this.verticalSlides[M-1]!==false){if(this.current==M){this.vertical().goTo(b)}else{this.verticalSlides[M-1].goTo(b,M,true);this.goTo(M)}}}else{this.vertical().goTo(b)}};this.resetVertical=function(b,M){if(typeof(M)=="undefined"){M=true}if(typeof(b)=="undefined"){b=this.current}if(M==true){this.verticalSlides[b-1].snapTo(0)}else{this.verticalSlides[b-1].goTo(0)}};i(v)};a.fn.slidedeck=function(c){var d=[];for(var b=0;b<this.length;b++){if(!this[b].slidedeck){this[b].slidedeck=new SlideDeck(this[b],c)}d.push(this[b].slidedeck)}return d.length>1?d:d[0]}})(jQuery);