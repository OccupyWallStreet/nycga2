/*
 *
 * Wijmo Library 1.5.0
 * http://wijmo.com/
 *
 * Copyright(c) ComponentOne, LLC.  All rights reserved.
 * 
 * Dual licensed under the Wijmo Commercial or GNU GPL Version 3 licenses.
 * licensing@wijmo.com
 * http://wijmo.com/license
 *
 *
 **/
(function(){"use strict";if(!window.Raphael)return;Raphael.prototype.htmlText=function(k,l,a,i,e,d){function h(b,a,d){var f=/<(b|strong)>/,e=/<(i|em)>/,c=/href=[\"\']([^\"\']+)[\"\']/,g=/<a/;d&&b.attr(d);f.test(a)&&b.attr("font-weight","bold");e.test(a)&&b.attr("font-style","italic");if(g.test(a))a.match(c)[1]&&b.attr("href",a.match(c)[1])}var j=a.toString().split(/<br\s?\/>|\\r/i),g=this,b=g.set(),c=0,f=0;e=e||3;d=d||5;jQuery.each(j,function(m,k){var j=0,l=k.split("|||");k=k.replace(/<([A-Za-z]+(.|\n)*?)>/g,"|||<$1>").replace(/<\/([A-Za-z]*)>/g,"</$1>|||");jQuery.each(l,function(o,l){var k=null,d=null,m=0,n=0;if(l!==""){k=l;k=jQuery.trim(k.replace(/<(.|\n)*?>/g,""));a=g.text(0,0,k);h(a,l,i);d=a.wijGetBBox();m=d.width/2+c;n=-d.height/2+f;c=c+d.width+e;a.translate(m,n);b.push(a);if(j<d.height)j=d.height}});f+=j+d;c=j=0});f=0;b.translate(k-b.getBBox().x,l-b.getBBox().y);return b};var b={content:"",contentStyle:{},title:"",titleStyle:{},style:{fill:"white","fill-opacity":.5},closeBehavior:"auto",mouseTrailing:true,triggers:"hover",animated:"fade",showAnimated:null,hideAnimated:null,duration:500,showDuration:500,hideDuration:500,easing:null,showEasing:null,hideEasing:null,showDelay:150,hideDelay:150,relativeTo:"mouse",compass:"east",offsetX:0,offsetY:0,showCallout:true,calloutFilled:false,calloutFilledStyle:{fill:"black"},calloutLength:12,calloutOffset:0,calloutAnimation:{easing:null,duration:500},windowCollisionDetection:true,calloutSide:null,width:null,height:null,beforeShowing:null};Raphael.fn.closeBtn=function(c,d,b){var a=Math.cos(Math.PI/4)*b,f=this.set(),h=["M",c-a,d-a,"L",c+a,d+a,"M",c-a,d+a,"L",c+a,d-a],g=this.path(h.concat(" ")),e=null;g.attr({cursor:"pointer"});f.push(g);e=this.rect(c-b,d-b,b*2,b*2);e.attr({fill:"white","fill-opacity":0,cursor:"pointer",stroke:"none"});f.push(e);return f};Raphael.fn.tooltip=function(l,U){var a=jQuery.extend(true,{},b,U),e=this,x=null,K=0,L=0,g,k,f,d,c,q=null,p=null,n=null,m=5,j=null,u=e.tooltip.animations,t=a.calloutOffset,z=a.width,y=a.height,r=a.calloutLength/2,o=0,h=0,i=0,Q=function(c,d){var a=c.getBBox(),b={x:0,y:0};switch(d.toLowerCase()){case"east":b.x=a.x+a.width;b.y=a.y+a.height/2;break;case"eastnorth":b.x=a.x+a.width;b.y=a.y;break;case"eastsouth":b.x=a.x+a.width;b.y=a.y+a.height;break;case"west":b.x=a.x;b.y=a.y+a.height/2;break;case"westnorth":b.x=a.x;b.y=a.y;break;case"westsouth":b.x=a.x;b.y=a.y+a.height;break;case"north":b.x=a.x+a.width/2;b.y=a.y;break;case"northeast":b.x=a.x+a.width;b.y=a.y;break;case"northwest":b.x=a.x;b.y=a.y;break;case"south":b.x=a.x+a.width/2;b.y=a.y+a.height;break;case"southeast":b.x=a.x+a.width;b.y=a.y+a.height;break;case"southwest":b.x=a.x;b.y=a.y+a.height}return b},s=function(a){if(a){window.clearTimeout(a);a=null}},w=function(h){if(j){var b,e,i;if(a.hideAnimated||a.animated){b=a.hideAnimated;if(!b)b=a.animated;if(b&&u[b]){i={animated:b,duration:a.hideDuration||a.duration,easing:a.hideEasing||a.easing,context:j,show:false};u[b](i)}}e=a.hideDuration;if(h)e=h;window.setTimeout(function(){var a,b;if(g){g.wijRemove();g=null}if(k){k.wijRemove();k=null}if(f){f.wijRemove();f=null}if(d){for(a=0,b=d.length;a<b;a++)d[a].unclick();d.wijRemove();d=null}if(c){c.wijRemove();c=null}n=null;j=null},e)}},A=function(){q&&s(q);p&&s(p);if(a.hideDelay)p=window.setTimeout(function(){w()},a.hideDelay);else w()},C=function(b){var a="";switch(b.toLowerCase()){case"east":a="right-middle";h=2;i=0;break;case"eastnorth":a="right-top";h=2;i=-2;break;case"eastsouth":a="right-bottom";h=2;i=2;break;case"west":a="left-middle";h=-2;i=0;break;case"westnorth":a="left-top";h=-2;i=-2;break;case"westsouth":a="left-bottom";h=-2;i=2;break;case"north":a="top-middle";h=0;i=-2;break;case"northeast":a="top-right";h=2;i=-2;break;case"northwest":a="top-left";h=-2;i=-2;break;case"south":a="bottom-middle";h=0;i=2;break;case"southeast":a="bottom-right";h=2;i=2;break;case"southwest":a="bottom-left";h=-2;i=2}return a},G=function(c,b){var d=[],e=a.compass;if(a.calloutSide)e=a.calloutSide;switch(e.toLowerCase()){case"east":case"eastsouth":case"eastnorth":d=["M",c.x+b,c.y+b,"l",-b,-b,"l",b,-b,"Z"];break;case"west":case"westsouth":case"westnorth":d=["M",c.x-b,c.y-b,"l",b,b,"l",-b,b,"Z"];break;case"north":case"northeast":case"northwest":d=["M",c.x-b,c.y-b,"l",b,b,"l",b,-b,"Z"];break;case"south":case"southeast":case"southwest":d=["M",c.x-b,c.y+b,"l",b,-b,"l",b,b,"Z"]}return d},H=function(c,b){if(jQuery.isFunction(c)){var e=null,a,d={target:null,fmt:c};if(b&&b.target){a=jQuery(b.target).data("raphaelObj");if(!a)a=jQuery(b.target.parentNode).data("raphaelObj");d.target=a}e=jQuery.proxy(d.fmt,d);return e().toString()}return c},E=function(b){if(a.calloutSide){var d=r||o;switch(a.calloutSide){case"south":case"north":if(b)c.animate({translation:-z/2+d+t+",0"},b);else c.translate(-z/2+d+t,0);break;case"east":case"west":if(b)c.animate({translation:"0,"+(-y/2+d+t)},b);else c.translate(0,-y/2+d+t)}}},R=/\{([^\}]+)\}/g,N=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,S=function(c,d,b){var a=b;d.replace(N,function(f,b,e,c,d){b=b||c;if(a){if(a[b]!=="string")a=a[b];if(typeof a==="function"&&d)a=a()}});a=(a===null||a===b?c:a).toString();return a},W=function(b,a){return String(b).replace(R,function(b,c){return S(b,c,a)})},I=function(i,u,s,t,h){var o=u.split("-"),f=5,p=s.getBBox(),d=Math.round(p.width),c=Math.round(p.height),j=Math.round(p.x)-f,k=Math.round(p.y)-f,b=0,g=0,m=0,n=0,q=null,l=null,r=null;if(a.width)d=d>a.width?d:a.width;if(a.height)c=c>a.height?c:a.height;z=d;y=c;b=Math.min(c/4,d/4,t);if(h)h=Math.min(c/4,d/4,h);if(h){g=h;q={top:"M{x},{y}h{w4},{w4},{w4},{w4}a{r},{r},0,0,1,{r},{r}v{h4},{h4},{h4},{h4}a{r},{r},0,0,1,-{r},{r}l-{right},0-{offset},0,-{left},0a{r},{r},0,0,1-{r}-{r}v-{h4}-{h4}-{h4}-{h4}a{r},{r},0,0,1,{r}-{r}z",bottom:"M{x},{y}l{left},0,{offset},0,{right},0a{r},{r},0,0,1,{r},{r}v{h4},{h4},{h4},{h4}a{r},{r},0,0,1,-{r},{r}h-{w4}-{w4}-{w4}-{w4}a{r},{r},0,0,1-{r}-{r}v-{h4}-{h4}-{h4}-{h4}a{r},{r},0,0,1,{r}-{r}z",right:"M{x},{y}h{w4},{w4},{w4},{w4}a{r},{r},0,0,1,{r},{r}v{h4},{h4},{h4},{h4}a{r},{r},0,0,1,-{r},{r}h-{w4}-{w4}-{w4}-{w4}a{r},{r},0,0,1-{r}-{r}l0-{bottom},0-{offset},0-{top}a{r},{r},0,0,1,{r}-{r}z",left:"M{x},{y}h{w4},{w4},{w4},{w4}a{r},{r},0,0,1,{r},{r}l0,{top},0,{offset},0,{bottom}a{r},{r},0,0,1,-{r},{r}h-{w4}-{w4}-{w4}-{w4}a{r},{r},0,0,1-{r}-{r}v-{h4}-{h4}-{h4}-{h4}a{r},{r},0,0,1,{r}-{r}z"}}else q={top:"M{x},{y}h{w4},{w4},{w4},{w4}a{r},{r},0,0,1,{r},{r}v{h4},{h4},{h4},{h4}a{r},{r},0,0,1,-{r},{r}l-{right},0-{gap},{gap}-{gap}-{gap}-{left},0a{r},{r},0,0,1-{r}-{r}v-{h4}-{h4}-{h4}-{h4}a{r},{r},0,0,1,{r}-{r}z",bottom:"M{x},{y}l{left},0,{gap}-{gap},{gap},{gap},{right},0a{r},{r},0,0,1,{r},{r}v{h4},{h4},{h4},{h4}a{r},{r},0,0,1,-{r},{r}h-{w4}-{w4}-{w4}-{w4}a{r},{r},0,0,1-{r}-{r}v-{h4}-{h4}-{h4}-{h4}a{r},{r},0,0,1,{r}-{r}z",right:"M{x},{y}h{w4},{w4},{w4},{w4}a{r},{r},0,0,1,{r},{r}v{h4},{h4},{h4},{h4}a{r},{r},0,0,1,-{r},{r}h-{w4}-{w4}-{w4}-{w4}a{r},{r},0,0,1-{r}-{r}l0-{bottom}-{gap}-{gap},{gap}-{gap},0-{top}a{r},{r},0,0,1,{r}-{r}z",left:"M{x},{y}h{w4},{w4},{w4},{w4}a{r},{r},0,0,1,{r},{r}l0,{top},{gap},{gap}-{gap},{gap},0,{bottom}a{r},{r},0,0,1,-{r},{r}h-{w4}-{w4}-{w4}-{w4}a{r},{r},0,0,1-{r}-{r}v-{h4}-{h4}-{h4}-{h4}a{r},{r},0,0,1,{r}-{r}z"};l=([{x:j+f,y:k,w:d,w4:d/4,h4:c/4,left:0,right:d-b*2-g*2,top:0,bottom:c-b*2-g*2,r:f,h:c,gap:b,offset:g*2},{x:j+f,y:k,w:d,w4:d/4,h4:c/4,left:d/2-b-g,right:d/2-b-g,top:c/2-b-g,bottom:c/2-b-g,r:f,h:c,gap:b,offset:g*2},{x:j+f,y:k,w:d,w4:d/4,h4:c/4,right:0,left:d-b*2-g*2,bottom:0,top:c-b*2-g*2,r:f,h:c,gap:b,offset:g*2}])[o[1]==="middle"?1:(o[1]==="left"||o[1]==="top")*2];r=e.path(W(q[o[0]],l));switch(o[0]){case"top":m=i.x-(j+f+l.left+b+h);n=i.y-(k+f+c+f+b+h);break;case"bottom":m=i.x-(j+f+l.left+b+h);n=i.y-(k-b-h);break;case"left":m=i.x-(j+f+d+f+b+h);n=i.y-(k+f+l.top+b+h);break;case"right":m=i.x-(j-b-g);n=i.y-(k+f+l.top+b+g)}r.translate(m,n);s.translate(m,n);return r},D=function(m,n,c,d,o,p){var b=m.getBBox(),f=0,a=n,g=b.x+o,h=b.y+p,l=e.width,k=e.height,i=c,j=d;if(e.raphael.vml){l=jQuery(e.canvas).width();k=jQuery(e.canvas).height()}if(g+c<0)if(a.indexOf("west")===-1){if(g+b.width/2+b.width-c<=l){f++;a=a.toLowerCase()+"east";i=0-c}}else if(g+b.width+b.width-c<=l){f++;a=a.toLowerCase().replace("west","east");i=0-c}if(h+d<0)if(a.indexOf("north")===-1){if(h+b.height/2+b.height-d<=k){f++;a=a.toLowerCase()+"south";j=0-d}}else if(h+b.height+b.height-d<=k){f++;a=a.toLowerCase().replace("north","south");j=0-d}if(g+b.width+c>l)if(a.indexOf("east")===-1){if(g-b.width/2-c>=0){f++;a=a.toLowerCase()+"west";i=0-c}}else if(g-b.width-c>=0){f++;a=a.toLowerCase().replace("east","west");i=0-c}if(h+b.height+d>k)if(a.indexOf("south")===-1){if(h-b.height/2-d>=0){f++;a=a.toLowerCase()+"north";j=0-d}}else if(h-b.height-d>=0){f++;a=a.toLowerCase().replace("south","north");j=0-d}return f?{compass:a,offsetX:i,offsetY:j}:false},v=function(J,B,z,O,L,M,N){var t,s,F,p=e.set(),H=null,q=null,Q=null,w=0,x=0,y=250,K=0,P=0,b,l={x:J.x,y:J.y};F=C(L);l.x+=M+h;l.y+=N+i;j=e.set();k&&k.wijRemove();if(B&&B.length>0){k=e.htmlText(-1e3,-1e3,B,a.titleStyle);j.push(k);t=k.getBBox()}else t={left:-1e3,top:-1e3,width:0,height:0};g&&g.wijRemove();if(z&&z.length>0){g=e.htmlText(-1e3,-1e3,z,a.contentStyle);j.push(g);s=g.getBBox()}else s={left:-1e3,top:-1e3,width:0,height:0};if(d){for(K=0,P=d.length;K<P;K++)d[K].unclick();d.wijRemove()}g&&g.translate(0,t.height/2+s.height/2);if(a.closeBehavior==="sticky"){d=e.closeBtn(-1e3,-1e3,m);j.push(d);if(a.width&&a.width>t.width+m*2&&a.width>s.width+m*2)d.translate(a.width-m,m);else if(t.width>=s.width-m*2)d.translate(t.width+m,m);else d.translate(s.width-m,m);jQuery.each(d,function(){this.click(function(a){A(a)})})}k&&p.push(k);g&&p.push(g);d&&p.push(d);if(!a.showCallout)r=0;if(a.calloutSide||a.calloutFilled){r=0;o=a.calloutLength/2;if(a.calloutSide)F=C(a.calloutSide)}if(a.calloutSide&&p.length===0){g=e.htmlText(-1e3,-1e3," ");p.push(g)}c&&c.wijRemove();f&&f.wijRemove();f=e.path();if(n){if(a.calloutSide||a.calloutFilled){H=G(n,o);c=e.path(H.concat(" "));a.calloutFilled&&c.attr(a.calloutFilledStyle);a.calloutSide&&E(0)}f=I(n,F,p,r,o);if(O){b=D(f,L,M,N,l.x-n.x,l.y-n.y);if(b){v(J,B,z,false,b.compass,b.offsetX,b.offsetY);return}}j.push(c);j.push(f);w=l.x-n.x;x=l.y-n.y;k&&k.animate({translation:w+","+x},y);g&&g.animate({translation:w+","+x},y);d&&d.animate({translation:w+","+x},y);c&&c.animate({translation:w+","+x},y);f&&f.animate({translation:w+","+x},y)}else{if(a.calloutSide||a.calloutFilled){H=G(l,o);c=e.path(H.concat(" "));a.calloutFilled&&c.attr(a.calloutFilledStyle);a.calloutSide&&E(0)}f=I(l,F,p,r,o);if(O){b=D(f,L,M,N,0,0);if(b){v(J,B,z,false,b.compass,b.offsetX,b.offsetY);return}}j.push(c);j.push(f);if(a.showAnimated||a.animated){q=a.showAnimated;if(!q)q=a.animated;if(q&&u[q]){Q={animated:q,duration:a.showDuration||a.duration,easing:a.showEasing||a.easing,context:j,show:true};u[q](Q)}}}n=l;f.attr(a.style);f.toFront();p.toFront()},F=function(h,b){var f=a.title,d=a.content,g=null,e=null,c;if(jQuery.isFunction(a.beforeShowing)){g=null;e={target:null,options:a,fmt:a.beforeShowing};if(b&&b.target){c=jQuery(b.target).data("raphaelObj");if(!c)c=jQuery(b.target.parentNode).data("raphaelObj");e.target=c}g=jQuery.proxy(e.fmt,e);g()}f=H(f,b);d=H(d,b);if(!f&&!d)return;v(h,f,d,a.windowCollisionDetection,a.compass,a.offsetX,a.offsetY)},M=function(b,c){q&&s(q);p&&s(p);if(a.showDelay)q=window.setTimeout(function(){F(b,c)},a.showDelay);else F(b,c)},B=function(b){x=jQuery(e.canvas.parentNode).offset();K=x.left;L=x.top;var f=a.relativeTo,d={x:0,y:0},c=null;switch(f){case"mouse":d.x=b.pageX-K;d.y=b.pageY-L;break;case"element":c=jQuery(b.target).data("raphaelObj");if(!c)c=jQuery(b.target.parentNode).data("raphaelObj");d=Q(c,a.compass)}M(d,b)},J=function(b){jQuery(b.node).data("raphaelObj",b);switch(a.triggers){case"hover":jQuery(b.node).bind("mouseover.Rtooltip",function(a){B(a)}).bind("mouseout.Rtooltip",function(b){a.closeBehavior==="auto"&&A(b)});a.mouseTrailing&&a.relativeTo==="mouse"&&jQuery(b.node).bind("mousemove.Rtooltip",function(a){B(a)});break;case"click":jQuery(b.node).bind("click.Rtooltip",function(a){B(a)})}},P=function(){var a,b;if(l)if(l.length)for(a=0,b=l.length;a<b;a++)J(l[a]);else J(l)},O=function(){var a,b;if(l)if(l.length)for(a=0,b=l.length;a<b;a++)jQuery(l[a].node).unbind(".Rtooltip");else jQuery(l.node).unbind(".Rtooltip")},T=function(){O();w(0)},V=function(){this.hide=function(){A()};this.showAt=function(a){M(a)};this.resetCalloutOffset=function(e){var f=a.calloutOffset,b=a.calloutSide,d=a.calloutAnimation;if(c)if(b==="south"||b==="north")c.animate({translation:e-f+",0"},d.duration,d.easing);else(b==="east"||b==="west")&&c.animate({translation:"0,"+(e-f)},d.duration,d.easing);a.calloutOffset=e};this.destroy=function(){T()};this.getOptions=function(){return a}};l&&P();return new V};Raphael.fn.tooltip.animations={fade:function(a){var b=a.context;if(a.show){b.attr({opacity:0});b.animate({opacity:1},a.duration,a.easing)}else b.animate({opacity:0},a.duration,a.easing)}};Raphael.fn.wij={moveTo:function(a,b){return this.path("M "+a+" "+b)},lineTo:function(a,b){return this.path("M "+this.wij.lastX+" "+this.wij.lastY+"L "+a+" "+b)},line:function(a,b,c,d){return this.path(["M",a,b,"L",c,d])},sector:function(b,c,a,d,e){var f=this.wij.getPositionByAngle(b,c,a,d),g=this.wij.getPositionByAngle(b,c,a,e);return this.path(["M",b,c,"L",f.x,f.y,"A",a,a,0,+(e-d>180),0,g.x,g.y,"z"])},donut:function(d,e,b,a,f,g){var c=this.wij.getPositionByAngle(d,e,b,f),k=this.wij.getPositionByAngle(d,e,b,g),j=this.wij.getPositionByAngle(d,e,a,f),i=this.wij.getPositionByAngle(d,e,a,g),h=g-f>180;return this.path(["M",c.x,c.y,"A",b,b,0,+h,0,k.x,k.y,"L",i.x,i.y,"A",a,a,0,+h,1,j.x,j.y,"L",c.x,c.y,"z"])},roundRect:function(l,m,e,d,k,i,h,j){var a=[],c=[-1,1,1,1,1,-1,-1,-1],g=["v","h","v","h"],b=null,f=null;jQuery.each([k,i,h,j],function(c,b){if(typeof b==="number")a=a.concat({x:b,y:b});else if(typeof b==="object")a=a.concat(b);else a=a.concat({x:0,y:0})});b=["M",l+a[0].x,m];f=[d-a[0].y-a[1].y,e-a[1].x-a[2].x,a[2].y+a[3].y-d,a[3].x+a[0].x-e];jQuery.each(a,function(d,a){if(a.x&&a.y)b=b.concat("a",a.x,a.y,0,0,0,c[2*d]*a.x,c[2*d+1]*a.y);b=b.concat(g[d],f[d])});b.push("z");return this.path(b)},wrapText:function(n,o,m,h,l,g){var e=this,d=g.rotation,j=d?jQuery.extend(true,{},g,{rotation:0}):g,f=o,c=e.set(),a=null,b=null,i=[];function k(j,i,h){var b=null,g=null,a=j.split(" "),f=[],c=[],d="";while(a.length){d+=" "+a[0];b=e.text(-1e3,-1e3,d);b.attr(h);g=b.wijGetBBox();if(g.width>i){if(c.length){f.push(c);d=a[0]}c=[a.shift()]}else c.push(a.shift());a.length===0&&f.push(c);b.wijRemove();b=null}return f}jQuery.each(k(m,h,j),function(p,o){var k=o.join(" "),m=l||"near",g=e.text(n,f,k),b=0,d=0;g.attr(j);a=g.wijGetBBox();switch(m){case"near":b=h-a.width/2;d+=a.height/2;f+=a.height;break;case"center":b+=h/2;d+=a.height/2;f+=a.height;break;case"far":b+=a.width/2;d+=a.height/2;f+=a.height}a.x+=b;a.y+=d;g.translate(b,d);c.push(g);i.push(a)});if(d)if(c.length>1){a=c.wijGetBBox();b={x:a.x+a.width/2,y:a.y+a.height/2};jQuery.each(c,function(m,l){var g=Math,h=i[m],c={x:h.x+h.width/2,y:h.y+h.height/2},k=g.sqrt(g.pow(c.x-b.x,2)+g.pow(c.y-b.y,2)),a=0,f=null,j=null;l.attr({rotation:d});if(k===0)return true;a=Raphael.deg(g.asin(g.abs(c.y-b.y)/k));if(c.y>b.y)if(c.x>b.x)a-=360;else a=-1*(a+180);else if(c.x>b.x)a*=-1;else a=-1*(180-a);j=e.wij.getPositionByAngle(b.x,b.y,k,-1*(d+a));f=l.wijGetBBox();l.translate(j.x-f.x-f.width/2,j.y-f.y-f.height/2)})}else c[0].attr({rotation:d});return c},getPositionByAngle:function(e,f,c,d){var a={},b=Raphael.rad(d);a.x=e+c*Math.cos(-1*b);a.y=f+c*Math.sin(-1*b);return a},getSVG:function(){function l(e,b){var a="<"+e+" ",c=null,d=false;jQuery.each(b,function(b,c){if(b==="text"||b==="opacity"||b==="transform"||b==="path"||b==="w"||b==="h"||b==="translation")return true;if(c){if(b==="stroke"&&c===0)c="none";a+=b+"='"+c+"' "}});if(b.opacity){c=b.opacity;a+="opacity='"+c+"' style='opacity:"+c+";";d=true}if(b.transform&&b.transform.length>0){c=b.transform;if(d)a+="transform:"+c;else{a+="style='transform:"+c;d=true}}if(d)a+="'";if(b.text){c=b.text;a+="><tspan>"+c+"</tspan>"}else a+=">";a+="</"+e+">";return a}for(var g=this,j='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="'+g.canvas.offsetWidth+'" height="'+g.canvas.offsetHeight+'"><desc>Created with Raphael</desc><defs></defs>',c="",h,f,d,e=0,k=0,b=0,i=0,a=g.bottom;a;a=a.next)if(a&&a.type)switch(a.type){case"path":for(e=0,k=a.attrs.path.length;e<k;e++){f=a.attrs.path[e];for(b=0,i=f.length;b<i;b++){d=f[b];if(b<1)c+=d;else if(b===i-1)c+=d;else c+=d+","}}if(c&&c.length>0)a.attrs.d=c.replace(/,/g," ");break;case"text":if(!a.attrs["text-anchor"])a.attrs["text-anchor"]="middle";break;case"image":h=a.transformations;a.attrs.transform=h?h.join(" "):"";break;case"ellipse":case"rect":j+=l(a.type,a.attrs)}j+="</svg>";return j}};Raphael.el.wijRemove=function(){if(this.removed)return;this.node.parentNode&&this.remove()};Raphael.st.wijRemove=function(){jQuery.each(this,function(b,a){a.wijRemove&&a.wijRemove()})};Raphael.el.wijGetBBox=function(){var a=this.getBBox(),d=null,c=[],e,f,j,i,g,b={left:0,right:0,top:0,bottom:0},h=0;if(this.attrs&&this.attrs.rotation){d=this._.rt.deg*Math.PI/180;c.push({x:0,y:0});c.push({x:a.width,y:0});c.push({x:0,y:a.height});c.push({x:a.width,y:a.height});for(h=0;h<c.length;h++){g=c[h];e=parseInt(g.x*Math.cos(d)+g.y*Math.sin(d),10);f=parseInt(g.x*Math.sin(d)+g.y*Math.cos(d),10);b.left=Math.min(b.left,e);b.right=Math.max(b.right,e);b.top=Math.min(b.top,f);b.bottom=Math.max(b.bottom,f)}j=parseInt(Math.abs(b.right-b.left),10);i=parseInt(Math.abs(b.bottom-b.top),10);e=a.x+a.width/2-j/2;f=a.y+a.height/2-i/2;return{x:e,y:f,width:j,height:i}}a=this.getBBox();if(Raphael.vml&&this.type==="text"){this.shape.style.display="inline";a.width=this.shape.scrollWidth;a.height=this.shape.scrollHeight}return a};Raphael.el.wijAnimate=function(a,g,b,e){if(!a||jQuery.isEmptyObject(a))return;var d=this.shadow,c=0,f={easeInCubic:">",easeOutCubic:"<",easeInOutCubic:"<>",easeInBack:"backIn",easeOutBack:"backOut",easeOutElastic:"elastic",easeOutBounce:"bounce"};if(f[b])b=f[b];this.animate(a,g,b,e);if(d&&d.offset){c=d.offset;if(a.x)a.x+=c;if(a.y)a.y+=c;this.shadow.animate(a,g,b,e)}};Raphael.el.wijAttr=function(a,c){this.attr(a,c);if(this.shadow)if(typeof a==="object"){var b=jQuery.extend(true,{},a);if(b.fill)delete b.fill;if(b.stroke)delete b.stroke;if(b["stroke-width"])delete b["stroke-width"];this.shadow.attr(b,c)}else if(typeof a==="string")switch(a){case"clip-rect":case"cx":case"cy":case"fill-opacity":case"font":case"font-family":case"font-size":case"font-weight":case"height":case"opacity":case"path":case"r":case"rotation":case"rx":case"ry":case"scale":case"stroke-dasharray":case"stroke-linecap":case"stroke-linejoin":case"stroke-miterlimit":case"stroke-opacity":case"stroke-width":case"translation":case"width":this.shadow.attr(a,c);break;case"x":this.shadow.attr(a,c);this.shadow.attr("translation","1 0");break;case"y":this.shadow.attr(a,c);this.shadow.attr("translation","0 1")}};Raphael.st.wijAttr=function(b,a){jQuery.each(this.items,function(d,c){c.wijAttr(b,a)});return this};Raphael.st.wijAnimate=function(f,g,e,d){var a=0,c=0,b=null;for(a=0,c=this.items.length;a<c;a++){b=this.items[a];b.wijAnimate(f,g,e,d)}return this};Raphael.st.wijGetBBox=function(){for(var b=[],c=[],j=[],i=[],g=Math.max,h=Math.min,e="push",d="apply",a=null,f=0,f=this.items.length-1;f>=0;f--){a=this.items[f].wijGetBBox();b[e](a.x);c[e](a.y);j[e](a.x+a.width);i[e](a.y+a.height)}b=h[d](0,b);c=h[d](0,c);return{x:b,y:c,width:g[d](0,j)-b,height:g[d](0,i)-c}};function a(a){var b="http://www.w3.org/2000/svg";return a.nodeType===1&&a.namespaceURI===b}jQuery.expr.filter.CLASS=function(b,d){var c=!a(b)?b.className:b.className?b.className.baseVal:b.getAttribute("class");return(" "+c+" ").indexOf(d)>-1};jQuery.expr.preFilter.CLASS=function(d,f,g,h,j,i){var c=0,b=null,e=null;d=" "+d[1].replace(/\\/g,"")+" ";if(i)return d;for(c=0,b={};b;c++){b=f[c];if(!b)try{b=f.item(c)}catch(k){}if(b){e=!a(b)?b.className:(b.className?b.className.baseVal:"")||b.getAttribute("class");if(j^(e&&(" "+e+" ").indexOf(d)>-1))!g&&h.push(b);else if(g)f[c]=false}}return false}})();(function(a){"use strict";a.widget("wijmo.wijchartcore",{options:{width:null,height:null,seriesList:[],seriesStyles:[{stroke:"#77b3af",opacity:.9,"stroke-width":1},{stroke:"#67908e",opacity:.9,"stroke-width":1},{stroke:"#465d6e",opacity:.9,"stroke-width":1},{stroke:"#5d3f51",opacity:.9,"stroke-width":1},{stroke:"#682e32",opacity:.9,"stroke-width":1},{stroke:"#8c5151",opacity:.9,"stroke-width":1},{stroke:"#ce9262",opacity:.9,"stroke-width":1},{stroke:"#ceb664",opacity:.9,"stroke-width":1},{stroke:"#7fb34f",opacity:.9,"stroke-width":1},{stroke:"#2a7b5f",opacity:.9,"stroke-width":1},{stroke:"#6079cb",opacity:.9,"stroke-width":1},{stroke:"#60a0cb",opacity:.9,"stroke-width":1}],seriesHoverStyles:[{opacity:1,"stroke-width":1.5},{opacity:1,"stroke-width":1.5},{opacity:1,"stroke-width":1.5},{opacity:1,"stroke-width":1.5},{opacity:1,"stroke-width":1.5},{opacity:1,"stroke-width":1.5},{opacity:1,"stroke-width":1.5},{opacity:1,"stroke-width":1.5},{opacity:1,"stroke-width":1.5},{opacity:1,"stroke-width":1.5},{opacity:1,"stroke-width":1.5},{opacity:1,"stroke-width":1.5}],marginTop:25,marginRight:25,marginBottom:25,marginLeft:25,textStyle:{fill:"#888","font-size":"10pt",stroke:"none"},header:{text:"",style:{fill:"none",stroke:"none"},textStyle:{"font-size":"18pt",fill:"#666",stroke:"none"},compass:"north",orientation:"horizontal",visible:true},footer:{text:"",style:{fill:"#fff",stroke:"none"},textStyle:{fill:"#000",stroke:"none"},compass:"south",orientation:"horizontal",visible:false},legend:{text:"",textMargin:{left:2,top:2,right:2,bottom:2},style:{fill:"none",stroke:"none"},textStyle:{fill:"#333",stroke:"none"},titleStyle:{"font-weight":"bold",fill:"#000",stroke:"none"},compass:"east",orientation:"vertical",visible:true},axis:{x:{alignment:"center",style:{stroke:"#999999","stroke-width":.5},visible:true,textVisible:true,text:"",textStyle:{fill:"#888","font-size":"15pt","font-weight":"bold"},labels:{style:{fill:"#333","font-size":"11pt"},textAlign:"near",width:null},compass:"south",autoMin:true,autoMax:true,min:null,max:null,origin:null,autoMajor:true,autoMinor:true,unitMajor:null,unitMinor:null,gridMajor:{visible:false,style:{stroke:"#CACACA","stroke-dasharray":"- "}},gridMinor:{visible:false,style:{stroke:"#CACACA","stroke-dasharray":"- "}},tickMajor:{position:"none",style:{fill:"black"},factor:1},tickMinor:{position:"none",style:{fill:"black"},factor:1},annoMethod:"values",annoFormatString:"",valueLabels:[]},y:{alignment:"center",style:{stroke:"#999999","stroke-width":.5},visible:false,textVisible:true,text:"",textStyle:{fill:"#888","font-size":"15pt","font-weight":"bold"},labels:{style:{fill:"#333","font-size":"11pt"},textAlign:"center",width:null},compass:"west",autoMin:true,autoMax:true,min:null,max:null,origin:null,autoMajor:true,autoMinor:true,unitMajor:null,unitMinor:null,gridMajor:{visible:true,style:{stroke:"#999999","stroke-width":"0.5","stroke-dasharray":"none"}},gridMinor:{visible:false,style:{stroke:"#CACACA","stroke-dasharray":"- "}},tickMajor:{position:"none",style:{fill:"black"},factor:1},tickMinor:{position:"none",style:{fill:"black"},factor:1},annoMethod:"values",annoFormatString:"",valueLabels:[]}},hint:{enable:true,content:null,contentStyle:{fill:"#d1d1d1","font-size":"16pt"},title:null,titleStyle:{fill:"#d1d1d1","font-size":"16pt"},style:{fill:"270-#333333-#000000","stroke-width":"2"},animated:"fade",showAnimated:"fade",hideAnimated:"fade",duration:120,showDuration:120,hideDuration:120,easing:"",showEasing:"",hideEasing:"",showDelay:150,hideDelay:150,compass:"north",offsetX:0,offsetY:0,showCallout:true,calloutFilled:false,calloutFilledStyle:{fill:"#000"}},showChartLabels:true,chartLabelStyle:{},chartLabelFormatString:"",disableDefaultTextStyle:false,shadow:true,beforeSeriesChange:null,seriesChanged:null,beforePaint:null,painted:null},innerState:{},_setOption:function(b,f){var e=this,c=e.options,j=null,i=0,d=0,h,g;if(b==="seriesList"){if(!f)f=[];j=a.Event("beforeserieschange");if(e._trigger("beforeSeriesChange",j,{oldSeriesList:c.seriesList,newSeriesList:f})===false)return false;c.seriesList=f;e._trigger("seriesChanged",null,f);e.seriesTransition=true}else if(a.isPlainObject(c[b]))a.extend(true,c[b],f);else a.Widget.prototype._setOption.apply(e,arguments);b==="disabled"&&e._handleDisabledOption(f,e.element);if(b==="seriesTransition"||b==="animation"||b==="disabled")return;i=c.seriesList.length;if(b==="seriesList"||b==="seriesStyles")for(h=c.seriesStyles.length,d=h;d<i;d++)c.seriesStyles[d]=c.seriesStyles[d%h];if(b==="seriesList"||b==="seriesHoverStyles"){g=c.seriesHoverStyles.length;for(d=g;d<i;d++)c.seriesHoverStyles[d]=c.seriesHoverStyles[d%g]}e.redraw()},_create:function(){var b=this,f=b.options,e=f.width||b.element.width(),d=f.height||b.element.height(),c=null;b.updating=0;b.innerState={};if(b.element.length>0){if(b.element.is("table")){b._parseTable();c=a("<div></div>");e&&c.css("width",e);d&&c.css("height",d);b.element.after(c);b.chartElement=c}else b.chartElement=b.element;f.disabled&&b.disable();b.chartElement.addClass("ui-widget");b.canvas=new Raphael(b.chartElement[0],e,d)}b.headerEles=[];b.footerEles=[];b.legendEles=[];b.axisEles=[];b.legends=[];b.legendIcons=[];b.chartLabelEles=[]},_handleDisabledOption:function(b,c){var a=this;if(b){if(!a.disabledDiv)a.disabledDiv=a._createDisabledDiv(c);a.disabledDiv.appendTo("body")}else if(a.disabledDiv){a.disabledDiv.remove();a.disabledDiv=null}},_createDisabledDiv:function(d){var g=this,b=d?d:g.element,c=b.offset(),f=b.outerWidth(),e=b.outerHeight();return a("<div></div>").addClass("ui-disabled").css({"z-index":"99999",position:"absolute",width:f,height:e,left:c.left,top:c.top})},_init:function(){var a=this;if(!a.rendered){a._paint();a.rendered&&a._bindLiveEvents()}},destroy:function(){var b=this;b._unbindLiveEvents();b._clearChartElement();b.chartElement.removeClass("ui-widget");b.element!==b.chartElement&&b.chartElement.remove();b.element.empty();if(b.disabledDiv){b.disabledDiv.remove();b.disabledDiv=null}a.Widget.prototype.destroy.apply(b,arguments)},getCanvas:function(){return this.canvas},addSeriesPoint:function(c,e,f){var b=this.options.seriesList,d=null,a=null;if(c>=b.length)return;d=b[c];a=d.data||[];a.x.push(e.x);a.y.push(e.y);if(f){a.x.shift();a.y.shift()}this._setOption("seriesList",b)},beginUpdate:function(){var a=this;a.updating++},endUpdate:function(){var a=this;a.updating--;a.redraw()},redraw:function(e){var a=this,d=a.options,c=0,b=0;if(a.updating>0)return;if(e&&a.rendered)return;c=d.width||a.element.width();b=d.height||a.element.height();if(c<1||b<1)return;a.canvas.setSize(c,b);a._unbindLiveEvents();a._paint();a._bindLiveEvents()},getSVG:function(){return Raphael.type==="SVG"?this.chartElement.html():this.canvas.wij.getSVG()},exportChart:function(){var b=document.createElement("form"),c=this.getSVG();b.action="http://export.highcharts.com/";b.method="post";b.style.display="none";document.body.appendChild(b);a.each(["filename","type","width","svg"],function(f,e){var d=document.createElement("input");a(d).attr("name",e).attr("type","hidden").attr("value",({filename:"chart",type:"image/png",width:600,svg:c})[e]);b.appendChild(d)});b.submit();document.body.removeChild(b)},round:function(d,c){var b=Math.pow(10,c),a=d*b;a=Math.round(a);return a/b},_parseTable:function(){if(!this.element.is("table"))return;var d=this,e=d.element,b=d.options,c=a("caption",e),g=a("thead th",e),f=[],h=a("tbody tr",e);if(c.length){b.header=a.extend({visible:true,text:a.trim(a(c[0]).text())},b.header);if(c.length>1)b.footer=a.extend({visibel:true,text:a.trim(a(c[1]).text())},b.footer)}b.legend=a.extend({visible:true},b.legend);d._getSeriesFromTR(g,h,f);d.options.seriesList=f},_getSeriesFromTR:function(d,h,l){var e=[],i=null,k=null,g=null,b=null,c=null,j=null,f=null;d.length&&d.each(function(){i=a.trim(a(this).text());e.push(i)});h.length&&h.each(function(){k=a("th",a(this));g=a.trim(k.text());b=[];c=a("td",a(this));c.length&&c.each(function(){j=a(this);b.push(parseFloat(a.trim(j.text())))});f={label:g,legendEntry:true,data:{x:e,y:b}};l.push(f)})},_clearChartElement:function(){var b=this;if(b.headerEles.length){a.each(b.headerEles,function(b,a){a.wijRemove();a=null});b.headerEles=[]}if(b.footerEles.length){a.each(b.footerEles,function(b,a){a.wijRemove();a=null});b.footerEles=[]}if(b.legendEles.length){a.each(b.legendEles,function(b,a){a.wijRemove();a=null});b.legendEles=[]}if(b.legends.length){a.each(b.legends,function(b,a){a.wijRemove();a=null});b.legends=[]}if(b.legendIcons.length){a.each(b.legendIcons,function(b,a){a.wijRemove();a=null});b.legendIcons=[]}if(b.axisEles.length){a.each(b.axisEles,function(b,a){a.wijRemove();a=null});b.axisEles=[]}if(b.chartLabelEles.length){a.each(b.chartLabelEles,function(b,a){a.wijRemove();a=null});b.chartLabelEles=[]}b.canvas.clear();b.innerState={}},_text:function(c,d,b){var a=this.canvas.text(c,d,b);if(this.options.disableDefaultTextStyle)a.node.style.cssText="";return a},_getDiffAttrs:function(d,b){var c={};a.each(b,function(a){if(typeof d==="undefined")return c;else if(typeof d[a]==="undefined")c[a]=b[a];else if(d[a]!==b[a])c[a]=b[a]});return c},_paintShadow:function(c,a,d){if(this.options.shadow){a=a||1;d=d||"#CCCCCC";var b=c.clone();b.insertBefore(c);b.attr({translation:a+" "+a,stroke:d,"stroke-width":a});b.toBack();b.offset=a;c.shadow=b}},_paint:function(){var b=this,f=b.options,a=b.element,e=a.css("display")==="none"||a.css("visibility")==="hidden",d={},c=null;if(e){d=a.css("left");c=a.css("position");a.css("left","-10000px");a.css("position","absolute");a.show()}if(a.is(":hidden")){if(e){a.css("left",d);a.css("position",c);a.hide()}return}b._clearChartElement();if(b._trigger("beforePaint")===false)return;b.canvasBounds={startX:0,endX:f.width||a.width(),startY:0,endY:f.height||a.height()};b._paintHeader();b._paintFooter();b._paintLegend();b._paintChartArea();b._paintChartLabels();b._trigger("painted");b.rendered=true;if(e){a.css("left",d);a.css("position",c);a.hide()}},_calculatePosition:function(g,f,e){var b={x:0,y:0},c=5,d=5,a=this.canvasBounds;switch(g){case"north":b.x=(a.endX-a.startX)/2;b.y=a.startY+e/2+d;a.startY=a.startY+d*2+e;break;case"south":b.x=(a.endX-a.startX)/2;b.y=a.endY-e/2-d;a.endY=a.endY-d*2-e;break;case"east":b.x=a.endX-f/2-c;b.y=(a.endY-a.startY)/2;a.endX=a.endX-c*2-f;break;case"west":b.x=a.startX+f/2+c;b.y=(a.endY-a.startY)/2;a.startX=a.startX+c*2+f}return b},_paintHeader:function(){var g=2,c=this,m=c.options,b=m.header,h=null,d=null,k=null,j=null,i=null,e=null,l=0,f=null;if(b.text&&b.text.length>0&&b.visible){h=b.compass;d=c._text(0,0,b.text);l=c._getRotationByCompass(h);k=a.extend(true,{},m.textStyle,{rotation:l},b.textStyle);d.attr(k);j=d.wijGetBBox();i=c._calculatePosition(h,j.width,j.height);d.translate(i.x,i.y);e=d.wijGetBBox();f=c.canvas.rect(e.x-g,e.y-g,e.width+2*g,e.height+2*g);f.attr(b.style);f.toBack();c.headerEles.push(d);c.headerEles.push(f)}},_paintFooter:function(){var g=2,c=this,m=c.options,b=m.footer,h=null,d=null,k=null,j=null,i=null,e=null,l=0,f=null;if(b.text&&b.text.length>0&&b.visible){h=b.compass;d=c._text(0,0,b.text);l=c._getRotationByCompass(h);k=a.extend(true,{},m.textStyle,{rotation:l},b.textStyle);d.attr(k);j=d.wijGetBBox();i=c._calculatePosition(h,j.width,j.height);d.translate(i.x,i.y);e=d.wijGetBBox();f=c.canvas.rect(e.x-g,e.y-g,e.width+2*g,e.height+2*g);f.attr(b.style);f.toBack();c.footerEles.push(d);c.footerEles.push(f)}},_getRotationByCompass:function(b){var a=0;if(b==="east")a=270;else if(b==="west")a=-90;return a},_paintLegend:function(){var d=this,s=d.options,f={size:{width:22,height:10}},g=2,F=s.seriesList,I=s.seriesStyles,E=F,m,o,i,G,e,b,u=d.canvasBounds,w=u.endX-u.startX,v=u.endY-u.startY,h=0,A=0,j=0,l=0,k=0,q=0,p=0,c=1,H=0,r=0,x=0,B=0,n=0,C,y,z,t,D=[];a.extend(true,f,s.legend);if(!f.visible)return;m=f.compass;o=f.orientation;h=f.size.width;A=f.size.height;if(f.text&&f.text.length){i=d._text(0,0,f.text);G=a.extend(true,{},s.textStyle,f.textStyle,f.titleStyle);i.attr(G);d.legendEles.push(i)}if(f.reversed)E=[].concat(F).reverse();a.each(E,function(l,b){b=a.extend({legendEntry:true},b);var j=I[l],k=a.extend(true,{fill:"none",opacity:1,stroke:"black"},j),g,i,c,e;if(b.legendEntry){g=d._text(0,0,b.label);i=a.extend(true,{},s.textStyle,f.textStyle);g.attr(i);d.legends.push(g);c=a.extend(k,{"stroke-width":1});e=d.canvas.rect(0,0,h,A);e.attr(c);d.legendIcons.push(e);D.push(c)}});e=d.legends.length;b=f.textMargin;if(i)j=i.wijGetBBox().height;a.each(d.legends,function(c,b){var a=b.wijGetBBox();if(a.width>l)l=a.width;if(a.height>k)k=a.height});if(m==="east"||m==="west"){if(o==="horizontal"){q=e*(l+h+g)+e*(b.left+b.right);if(q>w/2){c=Math.floor(w/2/l);if(c<1)c=1}else c=e}else if(o==="vertical"){p=k*e+j+e*(b.top+b.bottom);if(p>v)c=Math.ceil(p/v);else c=1}}else if(m==="south"||m==="north")if(o==="horizontal"){q=(l+h+g)*e+e*(b.left+b.right);if(q>w){c=Math.floor(e/q*w);if(c<1)c=1}else c=e}else if(o==="vertical"){p=k*e+j+e*(b.top+b.bottom);if(p>v/2){H=Math.floor(v-j)/2/k;c=Math.ceil(e/H)}else c=1}r=c*(l+h+g)+c*(b.left+b.right);x=k*Math.ceil(e/c)+j+Math.ceil(e/c)*(b.top+b.bottom);C=d._calculatePosition(m,r,x);y=C.x-r/2;z=C.y-x/2;t=d.canvas.rect(y-g,z-g,r+2*g,x+2*g);t.attr(f.style);t.toBack();d.legendEles.push(t);i&&i.translate(y+r/2,z+j/2);B=j;a.each(d.legends,function(i,f){var o=f.wijGetBBox(),a=d.legendIcons[i],j=y+n*(h+l+g)+(n+1)*b.left+n*b.right,m=z+B+o.height/2+b.top,p=m-a.wijGetBBox().height/2,e;a.translate(j,m-a.wijGetBBox().height/2);a.remove();a=d.canvas.rect(j,p,h,A);d.legendIcons[i]=a;e=D[i];e&&a.attr(e);f.translate(j+h+g+o.width/2,m);f.toFront();n++;if(n===c){n=0;B+=k+b.top+b.bottom}})},_hasAxes:function(){return this.widgetName==="wijpiechart"?false:true},_applyAxisText:function(h){var i=this,j=h.text,c=null,g=null,b=null,e=0,d=0,f=i.canvasBounds;if(j&&j.length>0){g=i._text(-100,-100,j);b=a.extend(true,{},i.options.textStyle,h.textStyle);g.attr(b);c=g.wijGetBBox();if(b["margin-left"])d+=parseFloat(b["margin-left"]);if(b["margin-top"])e+=parseFloat(b["margin-top"]);if(b["margin-right"])d+=parseFloat(b["margin-right"]);if(b["margin-bottom"])e+=parseFloat(b["margin-bottom"]);switch(h.compass){case"north":f.startY+=c.height+e;break;case"south":f.endY-=c.height+e;break;case"east":f.endX-=c.height+d;break;case"west":f.startX+=c.height+d}g.wijRemove()}return c},_paintChartArea:function(){var b=this,m=b.options,c=m.axis,i=m.seriesList,j=2,k=null,l=null,d=null,h=5,g=false,e=0,f=0;b._applyMargins();if(!i||i.length===0)return;a.each(i,function(c,a){if(b._isPieChart()){if(!a.data||!a.label||a.label.length===0)g=true}else if(!a.data||(!a.data.x||!a.data.y)&&!a.data.xy)g=true});if(g)return;if(b._hasAxes()){if(b.innerState.axisInfo){b.axisInfo=b.innerState.axisInfo;b.canvasBounds=b.innerState.canvasBounds}else{k=b._applyAxisText(c.x,{});l=b._applyAxisText(c.y,{});b.axisInfo={x:{id:"x",tprec:0,isTime:false,offset:0,vOffset:0,max:0,min:0,majorTickRect:null,minorTickRect:null,annoFormatString:null,textBounds:k,axisTextOffset:j,autoMax:true,autoMin:true,autoMajor:true,autoMinor:true},y:{id:"y",tprec:0,isTime:false,offset:0,vOffset:0,max:0,min:0,majorTickRect:null,minorTickRect:null,annoFormatString:null,textBounds:l,axisTextOffset:j,autoMax:true,autoMin:true,autoMajor:true,autoMinor:true}};d=b._getDataExtreme();if(c.x.autoMin&&b.axisInfo.x.autoMin)c.x.min=d.txn;else if(c.x.min&&b._isDate(c.x.min))c.x.min=b._toOADate(c.x.min);if(c.x.autoMax&&b.axisInfo.x.autoMax)c.x.max=d.txx;else if(c.x.max&&b._isDate(c.x.max))c.x.max=b._toOADate(c.x.max);if(c.y.autoMin&&b.axisInfo.y.autoMin)c.y.min=d.tyn;else if(c.y.min&&b._isDate(c.y.min))c.y.min=b._toOADate(c.y.min);if(c.y.autoMax&&b.axisInfo.y.autoMax)c.y.max=d.tyx;else if(c.y.max&&b._isDate(c.y.max))c.y.max=b._toOADate(c.y.max);do{f=b._autoPosition(b.axisInfo,c,"y");e=b._autoPosition(b.axisInfo,c,"x");if(f===b.axisInfo.y.offset&&e===b.axisInfo.x.offset){h=0;break}if(f!==b.axisInfo.y.offset){b.axisInfo.y.offset=f;b.axisInfo.y.vOffset=e}if(e!==b.axisInfo.x.offset){b.axisInfo.x.offset=e;b.axisInfo.x.vOffset=f}h--}while(h>0);b._adjustPlotArea(c.x,b.axisInfo.x);b._adjustPlotArea(c.y,b.axisInfo.y);b.innerState.axisInfo=b.axisInfo;b.innerState.canvasBounds=b.canvasBounds}b._paintAxes();b._paintPlotArea()}else b._paintPlotArea()},_adjustPlotArea:function(c,a){var b=this.canvasBounds;c.max=a.max;c.min=a.min;switch(c.compass){case"north":b.startY+=a.offset;break;case"south":b.endY-=a.offset;break;case"east":b.endX-=a.offset;break;case"west":b.startX+=a.offset}},_autoPosition:function(b,a,c){return this._autoPositionCartesianAxis(b,a,c)},_autoPositionCartesianAxis:function(g,j,d){var i=this,m=null,c=i.canvasBounds,l=j[d].compass,k=d==="x"?"y":"x",a=j[k].origin,e=g[k].max,f=g[k].min,h=0,b;if(a!==null&&i._isDate(a))a=i._toOADate(a);i._calculateParameters(g[d],j[d]);m=i._getMaxExtents(g[d],j[d]);switch(l){case"north":case"south":b=m.height;g[d].maxExtent=b;if(a!==null&&a>=f&&a<=e){if(l==="south")h=(a-f)/(e-f)*(c.endY-c.startY);else h=(e-a)/(e-f)*(c.endY-c.startY);b-=h;if(b<0)b=0}return b;case"east":case"west":b=m.width;g[d].maxExtent=b;if(a!==null&&a>=f&&a<=e){if(l==="west")h=(a-f)/(e-f)*(c.endX-c.startX);else h=(e-a)/(e-f)*(c.endX-c.startX);b-=h;if(b<0)b=0}return b}},_getMaxExtents:function(b,c,n){var e=this,o=e.options,i=null,f={width:0,height:0},t=b.min,s=b.max,r=b.isTime,d=c.annoFormatString,q=o.is100Percent,k=0,p=c.compass,h=c.labels,g,l=false,m=e.canvasBounds,j;b.majorTickRect=e._getTickRect(b,c,true,true,n);b.minorTickRect=e._getTickRect(b,c,false,true,n);i=e._getMajorTickValues(b,c);if(!d||d.length===0)d=b.annoFormatString;g=a.extend(true,{},o.textStyle,c.textStyle,h.style);l=typeof g.rotation!=="undefined";g=a.extend(true,g,b.textStyle);j=m.endX-m.startX-b.vOffset-b.axisTextOffset;if(i&&i.length){j=j/(i.length-1);a.each(i,function(o,a){var i,m,n;if(a<t||a>s)return true;if(c.annoMethod==="valueLabels"){if(a<0)return true;if(k>=c.valueLabels.length)return false;a=c.valueLabels[k];if(d&&d.length)a=Globalize.format(a,d)}else if(c.annoMethod==="values")if(d&&d.length){if(r)a=e._fromOADate(a);a=Globalize.format(a,d)}else if(q&&b.id==="y")a=Globalize.format(a,"p0");if(h.width)i=e.canvas.wij.wrapText(-100,-100,a,h.width,h.textAlign,g);else i=e._text(-100,-100,a).attr(g);m=i.wijGetBBox();if(!e._isVertical(p)&&!l&&c.annoMethod==="valueLabels"){if(m.width>j)if(!i.attr().rotation){i.attr({rotation:-45});g.rotation=-45;b.textStyle={rotation:-45};m=i.wijGetBBox()}if(o===0&&i.attr().rotation&&i.attr().rotation===-45){n=i.clone();n.attr({rotation:0});m=n.wijGetBBox();if(Math.sqrt(2)*m.height>j){i.attr({rotation:-90});g.rotation=-90;b.textStyle={rotation:-90}}n.wijRemove();m=i.wijGetBBox()}}i.wijRemove();if(m.width>f.width)f.width=m.width;if(m.height>f.height)f.height=m.height;k++})}if(f.width<h.width)f.width=h.width;b.labelWidth=f.width;return f},_getMajorTickValues:function(a,b){var c=[];if(b.annoMethod==="valueLabels"){c=this._getSortedDataValues(a,b);return c}c=this._getTickValues(a.max,a.min,b.unitMajor,a.tprec,!a.isTime,b.autoMajor);return c},_getSortedDataValues:function(f,d){var c=this,b=[],e=d.valueLabels;a.each(e,function(d,a){if(c._isDate(a))b.push(c._toOADate(a));else if(typeof a==="number")b.push(a);else b.push(d)});return b},_getMinorTickValues:function(a,b){var c=[];c=this._getTickValues(a.max,a.min,b.unitMinor,a.tprec,!a.isTime,b.autoMinor);return c},_getTickValues:function(e,a,b,f,o,l){var h=this,i=[],n=a,d=0,g=0,m=0,k=0,c=0,j=0;try{if(b===0)i=[e,a];else{if(l){if(f+1<0)f=-1;else if(f+1>15)f=14;j=h.round(h._signedCeiling(a/b)*b,f+1);if(j<e)a=j;m=parseInt(h.round(e/b,5),10);k=parseInt(h.round(a/b,5),10);c=parseInt(m-k+1,10);if(c>1){g=k*b;if(g<a){c--;a+=b}g=a+(c-1)*b;if(g>e)c--}if(c<1){c=2;a=n;b=e-a}}else{c=parseInt((e-a)/b+1,10);if(c>1){g=a+(c-1)*b;if(g>e)c--}if(c<1){c=2;b=e-a}}for(d=0;d<c;d++)if(o)if(l)i[d]=h.round(a+d*b,f+1);else i[d]=a+d*b;else i[d]=a+d*b}}catch(p){}return i},_getTickRect:function(k,d,j,e){var c=d.compass,f=0,a=null,h=3,i=2,g=2,b={x:0,y:0,width:0,height:0};if(j){a=d.tickMajor.position;f=h*d.tickMajor.factor}else{a=d.tickMinor.position;f=i*d.tickMinor.factor}if(a==="none"||a==="inside"&&e)f=0;if(c==="east"||c==="west"){b={x:0,y:-1,width:f*g,height:g};if(c==="east"&&(a==="outside"||a==="cross"&&e)||c==="west"&&a==="inside")b.width+=2;else if(!e){if(a==="corss")b.width<<=1;b.width+=2}}else{b={x:-1,y:0,width:g,height:f*g};if(c==="south"&&(a==="outside"||a==="corss"&&e)||c==="north"&&a==="inside")b.height+=2;else if(!e){if(a==="cross")b.height<<=1;b.height+=2}}return b},_applyMargins:function(){var c=this,b=c.options,a=c.canvasBounds;a.startX+=b.marginLeft;a.endX-=b.marginRight;a.startY+=b.marginTop;a.endY-=b.marginBottom},_paintAxes:function(){var a=this,h=a.options.axis,g=a.axisInfo,b=h.x,c=h.y,e=g.x,f=g.y,d;d=a._paintAxis(b,e);c.origin!==null&&a._translateAxisIfNeeded(d,b.compass,c.origin,c.compass,f.max,f.min);d=a._paintAxis(c,f);b.origin!==null&&a._translateAxisIfNeeded(d,c.compass,b.origin,b.compass,e.max,e.min)},_translateAxisIfNeeded:function(h,i,l,j,e,f){var g=this,k=j==="west"||j==="east",b=g.canvasBounds,c=l,d;if(g._isDate(c))c=g._toOADate(c);if(!k){if(i==="west")d=(c-f)/(e-f)*(b.endX-b.startX);else d=(c-e)/(e-f)*(b.endX-b.startX);a.each(h,function(b,a){a.translate(d,0)})}else{if(i==="south")d=(f-c)/(e-f)*(b.endY-b.startY);else d=(e-c)/(e-f)*(b.endY-b.startY);a.each(h,function(b,a){a.translate(0,d)})}},_paintAxis:function(b,d){var g=this,A=g.options,c=g.canvasBounds,e={x:0,y:0},f={x:0,y:0},q=b.compass,k=2,o=true,t=null,n=[],u=[],v=[],l=d.max,m=d.min,I=b.unitMajor,J=b.unitMinor,H=b.tickMajor.position,y=b.tickMinor.position,z=d.maxExtent,B=b.tickMajor.style,C=b.tickMinor.style,D=d.majorTickRect,E=d.minorTickRect,w=d.axisTextOffset,F=b.gridMajor,G=b.gridMinor,j=b.labels,r=0,x=[],s=0,h=b.annoFormatString,p=null,i=[];if(!h||h.length===0)h=d.annoFormatString;n=g._getMajorTickValues(d,b);if(y!=="none"){u=g._getMinorTickValues(d,b);v=g._resetMinorTickValues(u,n)}switch(q){case"south":e.x=c.startX;e.y=c.endY;f.x=c.endX;f.y=c.endY;o=false;break;case"north":e.x=c.startX;e.y=c.startY-k;f.x=c.endX;f.y=c.startY-k;o=false;break;case"east":e.x=c.endX;e.y=c.endY;f.x=c.endX;f.y=c.startY;break;case"west":e.x=c.startX-k;e.y=c.endY;f.x=c.startX-k;f.y=c.startY}if(b.visible){t=g.canvas.wij.line(e.x,e.y,f.x,f.y).attr(b.style);g.axisEles.push(t);i.push(t)}a.each(n,function(v,k){var c=k,u=d.isTime,t=A.is100Percent,o,n;if(k<m||k>l)return true;if(b.annoMethod==="valueLabels"){if(k<0)return true;if(s>=b.valueLabels.length)return false;c=b.valueLabels[s];if(h&&h.length)c=Globalize.format(c,h)}else if(b.annoMethod==="values")if(h&&h.length){if(u)c=g._fromOADate(k);c=Globalize.format(c,h)}else if(t&&d.id==="y")c=Globalize.format(k,"p0");p=a.extend(true,{},A.textStyle,b.textStyle,j.style,d.textStyle);o=g._paintMajorMinor(l,m,k,H,I,D,q,e,f,z,w,B,c,F,b.textVisible,p,j.textAlign,j.width?d.labelWidth:null);if(o){if(o.elements)i=i.concat(o.elements);n=o.textInfo}if(n){x.push(n);if(r<n.len)r=n.len}s++});!j.width&&a.each(x,function(d,c){var b=c.text,a=(c.len-r)/2;a=j.textAlign==="near"?a*-1:a;if(o)b.translate(a,0);else b.translate(0,a)});a.each(v,function(h,c){var a;if(c>m&&c<l){a=g._paintMajorMinor(l,m,c,y,J,E,q,e,f,z,w,C,null,G,b.textVisible,p,j.textAlign,j.width?d.labelWidth:null);if(a&&a.elements)i=i.concat(a.elements)}});b.text&&b.text.length>0&&i.push(g._paintAxisText(b,d));return i},_paintAxisText:function(d,f){if(!d.text||d.text.length===0)return;var j=this,z=d.text,p=d.compass,x=d.alignment,l=j.canvasBounds,m=l.startX,n=l.startY,q=l.endX,r=l.endY,g=m,h=n,c=f.textBounds,o=j._isVertical(p),k=f.axisTextOffset,s=f.majorTickRect,y=d.tickMajor.position,e=o?s.width:s.height,b=null,i=null,w=0,v=0,u=0,t=0;b=a.extend(true,{},j.options.textStyle,d.textStyle);if(b["margin-top"])w=parseFloat(b["margin-top"]);if(b["margin-left"])v=parseFloat(b["margin-left"]);if(b["margin-right"])u=parseFloat(b["margin-right"]);if(b["margin-bottom"])t=parseFloat(b["margin-bottom"]);if(y==="cross")e=e/2;else if(y==="inside")e=0;if(o){switch(x){case"near":h=r-c.width/2;break;case"center":h=(n+r)/2;break;case"far":h=n+c.width/2}if(p==="west")g=m-(f.offset+k+e+c.height/2+u);else g=q+f.offset+k+e+c.height/2+v}else{switch(x){case"near":g=m+c.width/2;break;case"center":g=(m+q)/2;break;case"far":g=q-c.width/2}if(p==="north")h=n-(f.offset+k+e+c.height/2+t);else h=r+f.offset+k+e+c.height/2+w}i=j._text(g,h,z);j.axisEles.push(i);i.attr(b);o&&i.rotate(-90);return i},_resetMinorTickValues:function(a,d){for(var b=0,c=0,f=null,e=null,b=a.length-1;b>=0;b--){f=a[b];for(c=d.length-1;c>=0;c--){e=d[c];f===e&&a.splice(b,1)}}return a},_paintMajorMinor:function(G,u,H,e,J,b,p,r,D,m,h,x,A,t,I,C,B,i){var f=this,c=r.x,d=r.y,j=-1,l=-1,o=true,k=f.canvasBounds,E=null,q=null,y=[],s=[],n=null,z={"stroke-width":2},g=null,w=null,F={},v=[];switch(p){case"south":if(e==="inside")d-=b.height;else if(e==="cross")d-=b.height/2;if(i)l=d+h+b.height;else l=d+h+b.height+m/2;o=false;break;case"west":if(e==="outside")c-=b.width;else if(e==="cross")c-=b.width/2;if(i)j=c-(h+m);else j=c-(h+m/2);break;case"north":if(e==="outside")d-=b.height;else if(e==="cross")d-=b.height/2;if(i)l=d-(h+m);else l=d-(h+m/2);o=false;break;case"east":if(e==="inside")c-=b.width;else if(e==="cross")c-=b.width/2;if(i)j=c+h+b.width;else j=c+h+b.width+m/2}if(o){d+=(H-u)/(G-u)*(D.y-r.y);if(t.visible)if(d!==k.startY&&p==="east"||d!==k.endY&&p==="west"){s=["M",k.startX,d,"H",k.endX];n=f.canvas.path(s.concat(" "));n.attr(t.style);f.axisEles.push(n)}l=d;if(e!=="none"){y=["M",c,d,"h",b.width];x["stroke-width"]=b.height}}else{c+=(H-u)/(G-u)*(D.x-r.x);if(t.visible)if(c!==k.startX&&p==="south"||c!==k.endX&&p==="north"){s=["M",c,k.startY,"V",k.endY];n=f.canvas.path(s.concat(" "));n.attr(t.style);f.axisEles.push(n)}if(i)j=c-i/2;else j=c;if(e!=="none"){y=["M",c,d,"v",b.height];x["stroke-width"]=b.width}}if(e!=="none"){q=f.canvas.path(y.concat(" "));z=a.extend(z,x);q.attr(z);f.axisEles.push(q);v.push(q)}if(A!==null){if(i){g=f.canvas.wij.wrapText(j,l,A.toString(),i,B,C);o&&g.translate(0,-g.getBBox().height/2)}else{g=f._text(j,l,A.toString());g.attr(C)}f.axisEles.push(g);v.push(g);!I&&g.hide();if(B!=="center"){w=g.getBBox();E={text:g,len:o?w.width:w.height}}}F={textInfo:E,elements:v};return F},_paintPlotArea:function(){},_paintChartLabels:function(){var c=this,b=c.options.chartLabels;b&&b.length&&a.each(b,function(e,b){var d;b=a.extend(true,{compass:"east",attachMethod:"coordinate",attachMethodData:{seriesIndex:-1,pointIndex:-1,x:-1,y:-1},offset:0,visible:false,text:"",connected:false},b);if(b.visible){d=c._getChartLabelPointPosition(b);if(typeof d.x!=="number"||typeof d.y!=="number")return false;c._setChartLabel(b,d)}})},_getChartLabelPointPosition:function(){},_setChartLabel:function(d,e,o,l){var c=this,n=d.compass,k=c.options,m=a.extend(true,{},k.textStyle,k.chartLabelStyle),f=c._text(0,0,d.text).attr(m),h=d.offset,i=0,j=0,b=null,g=null;c.chartLabelEles.push(f);b=c._getCompassTextPosition(n,f.wijGetBBox(),h,e,o);if(h&&d.connected){g=c.canvas.path("M"+e.x+" "+e.y+"L"+b.endPoint.x+" "+b.endPoint.y);g.attr(l);c.chartLabelEles.push(g)}i=b.endPoint.x+b.offsetX;j=b.endPoint.y+b.offsetY;f.translate(i,j).toFront()},_getCompassTextPosition:function(g,b,h,f,a){var c=0,d=0,e={x:0,y:0};switch(g.toLowerCase()){case"east":a=0;break;case"west":a=180;break;case"north":a=90;break;case"south":a=270;break;case"northeast":a=45;break;case"northwest":a=135;break;case"southeast":a=315;break;case"southwest":a=225}if(a>=0&&a<45/2||a>675/2&&a<360)c=b.width/2;else if(a>=45/2&&a<135/2){c=b.width/2;d=b.height/-2}else if(a>=135/2&&a<225/2)d=b.height/-2;else if(a>=225/2&&a<315/2){c=b.width/-2;d=b.height/-2}else if(a>=315/2&&a<405/2)c=b.width/-2;else if(a>=405/2&&a<495/2){c=b.width/-2;d=b.height/2}else if(a>=495/2&&a<585/2)d=b.height/2;else{c=b.width/2;d=b.height/2}e=this.canvas.wij.getPositionByAngle(f.x,f.y,h,a);return{endPoint:e,offsetX:c,offsetY:d}},_getXSortedPoints:function(e){var b=e.data.x,f=[].concat(b),g=[].concat(e.data.y),d=[],c=b;if(b.length===0)return;function h(a,b){return a-b}if(typeof b[0]==="number")c=[].concat(b).sort(h);a.each(c,function(c,b){a.each(f,function(e,a){if(b===a){if(typeof a!=="number")a=c;d.push({x:a,y:g[e]});f.splice(e,1);g.splice(e,1);return false}})});return d},_bindLiveEvents:function(){},_unbindLiveEvents:function(){},_isBarChart:function(){return false},_isPieChart:function(){return false},_calculateParameters:function(c,f){var d=this,b=f.max,a=f.min,n=f.autoMax&&c.autoMax,o=f.autoMin&&c.autoMin,q=f.autoMajor&&c.autoMajor,r=f.autoMinor&&c.autoMinor,h=null,k=null,p=f.annoMethod==="valueLabels",g=0,i=0,j=0,e=0,l=0,m=c.isTime;if(n&&b!==Number.MIN_VALUE)if(c.id!=="x"&&d._isBarChart())if(b<0&&.5*(b-a)>-b)b=0;if(o&&a!==Number.MAX_VALUE)if(c.id!=="x"&&d._isBarChart())if(a>0&&.5*(b-a)>a)a=0;if(b===a){if(a!==0)a-=1;b+=1}e=b-a;if(m){h=f.annoFormatString;if(!h||h.length===0){h=d._getTimeDefaultFormat(b,a);c.annoFormatString=h}l=d._niceTimeUnit(0,h)}k=d._nicePrecision(e);c.tprec=k;if(n)if(m){i=d._roundTime(b,l,true);if(i<b)b=i+l;else b=i}else{i=d._precCeil(-k,b);if(typeof i==="number")b=i}if(o)if(m){j=d._roundTime(a,l,false);if(j>a)a=j-l;else a=j}else{j=d._precFloor(-k,a);if(typeof j==="number")a=j}c.max=b;c.min=a;c.annoFormatString=h;c.tinc=l;if(q||r){e=b-a;d._calculateMajorMinor(f,c);g=f.unitMajor;if(n&&g!==0&&!m&&!p){e=b-parseInt(b/g,10)*g;if(e!==0){b+=g-e;b=d._precCeil(-k,b)}}if(o&&g!==0&&!m&&!p){e=a-parseInt(a/g,10)*g;if(e!==0){if(e<0)e+=g;a-=Math.abs(e);a=d._precFloor(-k,a)}}}c.max=b;c.min=a},_roundTime:function(j,f,d){var b=this,c=f,e=b._fromOADate(j),a,g,i,h;if(c>0){a={year:e.getFullYear(),month:e.getMonth(),day:e.getDate(),hour:e.getHours(),minute:e.getMinutes(),second:e.getSeconds()};if(c<b._tmInc.minute){a.second=b._tround(a.second,c,d);return b._getTimeAsDouble(a)}a.second=0;if(c<b._tmInc.hour){c/=b._tmInc.minute;a.minute=b._tround(a.minute,c,d);return b._getTimeAsDouble(a)}a.minute=0;if(c<b._tmInc.day){c/=b._tmInc.hour;a.hour=b._tround(a.hour,c,d);return b._getTimeAsDouble(a)}a.hour=0;if(c<b._tmInc.month){c/=b._tmInc.day;a.day=b._tround(a.day,c,d);return b._getTimeAsDouble(a)}a.day=1;if(c<b._tmInc.year){c/=b._tmInc.month;a.month=b._tround(a.month,c,d);return b._getTimeAsDouble(a)}a.month=0;c/=b._tmInc.year;a.year=b._tround(a.year,c,d);return b._getTimeAsDouble(a)}else{g=e;i=g-c;h=parseInt(i/f,10)*f;if(d&&h!==i)h+=f;g=c+h;return g}},_tround:function(c,a,d){var b=parseInt(c/a*a,10);if(d&&b!==c)b+=parseInt(a,10);return b},_getTimeAsDouble:function(a){var d=0,c=0,b=null;if(a.day<1){c=-1-a.day;a.day=1}else if(a.day>28){c=a.day-28;a.day=28}if(a.month<0){d=-1-a.day;a.month=0}else if(a.month>11){d=a.month-11;a.month=11}b=new Date(a.year,a.month,a.day,a.hour,a.minute,a.second);b.setDate(b.getDate()+c);b.setMonth(b.getMonth()+d);return this._toOADate(b)},_getTimeDefaultFormat:function(d,e){var c=this,b=d-e,a="s";if(b>2*c._tmInc.year)a="yyyy";else if(b>c._tmInc.year)a="MMM yy";else if(b>3*c._tmInc.month)a="MMM";else if(b>2*c._tmInc.week)a="MMM d";else if(b>2*c._tmInc.day)a="ddd d";else if(b>c._tmInc.day)a="ddd H:mm";else if(b>c._tmInc.hour)a="H:mm";else if(b>=1e3)a="H:mm:ss";return a},_niceTimeUnit:function(c,b){var d=this,a=c;a=d._niceTimeSpan(a,b);return a},_niceTimeSpan:function(f,e){var a=this,c=a._manualTimeInc(e),d=0,b=0;d=Math.ceil(f);if(d===0)return a._timeSpanFromTmInc(c);b=1;if(c<a._tmInc.minute){if(d<a._tmInc.minute){b=a._getNiceInc([1,2,5,10,15,30],d,c);if(b!==0)return b}c=a._tmInc.minute}if(c<a._tmInc.hour){if(d<a._tmInc.hour){b=a._getNiceInc([1,2,5,10,15,30],d,c);if(b!==0)return b}c=a._tmInc.hour}if(c<a._tmInc.day){if(d<a._tmInc.day){b=a._getNiceInc([1,3,6,12],d,c);if(b!==0)return b}c=a._tmInc.day}if(c<a._tmInc.month){if(d<a._tmInc.month){b=a._getNiceInc([1,2,7,14],d,c);if(b!==0)return b}c=a._tmInc.month}if(c<a._tmInc.year){if(d<a._tmInc.year){b=a._getNiceInc([1,2,3,4,6],d,c);if(b!==0)return b}c=a._tmInc.year}b=100*a._tmInc.year;if(d<b){b=a._getNiceInc([1,2,5,10,20,50],d,c);if(b===0)b=100*a._tmInc.year}return b},_getNiceInc:function(c,f,d){for(var b=0,a=0,e=c.length,b=0;b<e;b++){a=c[b]*d;if(f<=a)return a}return 0},_timeSpanFromTmInc:function(a){var b=1e3,d=a,c=1;if(a!==this._tmInc.maxtime)if(a>this._tmInc.tickf1)b=a;else{a+=7;while(d>0){c*=10;d--}b=c}return b},_manualTimeInc:function(a){var c=this,b=c._tmInc.second;if(!a||a.length===0)return b;if(a.indexOf("s")>=0)b=c._tmInc.second;else if(a.indexOf("m")>=0)b=c._tmInc.minute;else if(a.indexOf("h")>=0||a.indexOf("H")>=0)b=c._tmInc.hour;else if(a.indexOf("d")>=0)b=c._tmInc.day;else if(a.indexOf("M")>=0)b=c._tmInc.month;else if(a.indexOf("y")>=0)b=c._tmInc.year;return b},_tmInc:{tickf7:-7e3,tickf6:-6e3,tickf5:-5e3,tickf4:-4e3,tickf3:-3e3,tickf2:-2e3,tickf1:-1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:26784e5,year:31536e6,maxtime:2147483647},_niceTickNumber:function(a){if(parseFloat(a)===0)return a;else if(a<0)a=-a;var e=Math.log(a)/Math.log(10),d=parseInt(this._signedFloor(e),10),c=a/Math.pow(10,d),b=10;if(c<=1)b=1;else if(c<=2)b=2;else if(c<=5)b=5;return b*Math.pow(10,d)},_niceNumber:function(c,d,e){if(parseFloat(c)===0)return c;else if(c<0)c=-c;var b=c/Math.pow(10,d),a=10;if(e){if(b<1.5)a=1;else if(b<3)a=2;else if(b<7)a=5}else if(b<=1)a=1;else if(b<=2)a=2;else if(b<=5)a=5;return a*Math.pow(10,d)},_nicePrecision:function(a){if(a<=0||typeof a!=="number")return 0;var c=Math.log(a)/Math.log(10),b=parseInt(this._signedFloor(c),10),d=a/Math.pow(10,b);if(d<3)b=-b+1;return b},_precCeil:function(d,c){var b=Math.pow(10,d),a=c/b;a=Math.ceil(a);return a*b},_precFloor:function(d,c){var b=Math.pow(10,d),a=c/b;a=Math.floor(a);return a*b},_signedCeiling:function(a){return a<0?Math.floor(a):Math.ceil(a)},_signedFloor:function(a){return a<0?Math.ceil(a):Math.floor(a)},_getDataExtreme:function(){var a={txx:0,txn:0,tyx:0,tyn:0};this._getDataExtremes(a);if(a.txn>a.txx){a.txn=0;a.txx=1}return a},_getDataExtremes:function(b){var g=this,i=g.options,j=i.seriesList,l=i.stacked,k=i.is100Percent,e=i.axis,f=g.axisInfo,d=[],c=[],h=[];if(!j||j.length===0)return b;a.each(j,function(m,o){var e=o.data,k=0,i=0,j=[].concat(e.xy),n=j.length,f,h;d=[].concat(e.x);c=[].concat(e.y);if(e.xy&&n){d=[];c=[];while(i<n){d[k]=j[i];c[k]=j[i+1];i+=2;k++;e.x=d;e.y=c}}else if(!e.x){d=[];a.each(c,function(a){d.push(a)});e.x=d}l&&m>0&&a.each(c,function(a){if(a===0)return true;c[a]+=c[a-1]});f=g._getMinMaxValue(d);h=g._getMinMaxValue(c);if(m===0){b.txx=f.max;b.txn=f.min;b.tyx=h.max;b.tyn=h.min}else{if(b.txx<f.max)b.txx=f.max;if(b.txn>f.min)b.txn=f.min;if(b.tyx<h.max)b.tyx=h.max;if(b.tyn>h.min)b.tyn=h.min}});if(k){b.tyx=1;b.tyn=0}if(d.length)if(g._isDate(d[0]))f.x.isTime=true;else if(typeof d[0]!=="number"){a.each(d,function(b,a){h.push(a)});e.x.annoMethod="valueLabels";e.x.valueLabels=h;e.x.max=d.length-1;e.x.min=0;e.x.unitMajor=1;e.x.unitMinor=.5;f.x.autoMax=false;f.x.autoMin=false;f.x.autoMajor=false;f.x.autoMinor=false}if(c.length)if(g._isDate(c[0]))f.y.isTime=true;else if(typeof c[0]!=="number"){a.each(c,function(d,c){var b=e.y.annoFormatString,a=c;if(b&&b.length>0)a=Globalize.format(a,b);else a=a.toString();h.push(a)});e.y.annoMethod="valueLabels";e.y.valueLabels=h;e.x.max=c.length-1;e.x.min=0;e.y.unitMajor=1;e.x.unitMinor=.5;f.y.autoMax=false;f.y.autoMin=false;f.y.autoMajor=false;f.y.autoMinor=false}return b},_isDate:function(a){return typeof a==="object"&&a.constructor===Date},_getMinMaxValue:function(b){var d=this,a={min:0,max:0},c=0;if(!b.length)return;if(typeof b[0]!=="number")if(d._isDate(b[0])){a.min=b[0];a.max=b[0]}else{a.min=0;a.max=b.length-1;return a}else{a.min=b[0];a.max=b[0]}for(c=0;c<b.length;c++)if(b[c]<a.min)a.min=b[c];else if(b[c]>a.max)a.max=b[c];if(d._isDate(a.min)){a.min=d._toOADate(a.min);a.max=d._toOADate(a.max)}return a},_toOADate:function(b){return b-new Date(1900,0,1)+2*this._tmInc.day},_fromOADate:function(a){return new Date(a-2*this._tmInc.day+ +new Date(1900,0,1))},_isVertical:function(a){return a==="west"||a==="east"},_calculateMajorMinor:function(f,d){var b=this,A=b.options,n=b.canvasBounds,y=f.autoMajor,z=f.autoMinor,p=d.max,q=d.min,v=d.isTime,x=d.tinc,r=d.annoFormatString,s=null,t=null,g=null,h=null,l=null,k=null,o=null,j=null,m=null,e=p-q,w=0,u=0,i=0,c=0;if(y){m=a.extend(true,{},A.textStyle,f.textStyle,f.labels.style);if(v){s=Globalize.format(b._fromOADate(p),r);t=Globalize.format(b._fromOADate(q),r);l=b._text(-1e3,-1e3,s).attr(m);k=b._text(-1e3,-1e3,t).attr(m);g=l.wijGetBBox();h=k.wijGetBBox();l.wijRemove();k.wijRemove()}else{o=b._nicePrecision(e);j=o+1;if(j<0||j>15)j=0;l=b._text(-1e3,-1e3,b.round(p,j)).attr(m);k=b._text(-1e3,-1e3,b.round(q,j)).attr(m);g=l.wijGetBBox();h=k.wijGetBBox();l.wijRemove();k.wijRemove()}if(g.width<h.width)g.width=h.width;if(g.height<h.height)g.height=h.height;if(!b._isVertical(f.compass)){w=n.endX-n.startX-d.vOffset-d.axisTextOffset;c=w/g.width;if(Number.POSITIVE_INFINITY===c)i=0;else i=parseInt(c,10)}else{u=n.endY-n.startY-d.vOffset-d.axisTextOffset;c=u/g.height;if(Number.POSITIVE_INFINITY===c)i=0;else i=parseInt(c,10)}c=e;if(i>0){e/=i;if(v)if(e<x)c=x;else c=b._niceTimeUnit(e,d.annoFormatString);else{d.tprec=b._nicePrecision(e);c=b._niceNumber(2*e,-o,true);if(c<e)c=b._niceNumber(e,-o+1,false);if(c<e)c=b._niceTickNumber(e)}}f.unitMajor=c}if(z&&f.unitMajor&&!isNaN(f.unitMajor))f.unitMinor=f.unitMajor/2},_getScaling:function(b,d,e,c){var a=d-e;if(a===0)a=1;if(b)a=-a;return c/a},_getTranslation:function(d,b,e,f,c){var a=0;if(d){a=b.y;a-=c*e}else{a=b.x;a-=c*f}return a},_isSVGElem:function(a){var b="http://www.w3.org/2000/svg";return a.nodeType===1&&a.namespaceURI===b},_addClass:function(d,b){var c=this;b=b||"";a.each(d,function(){if(c._isSVGElem(this)){var d=this;a.each(b.split(/\s+/),function(e,c){var b=d.className?d.className.baseVal:d.getAttribute("class");if(a.inArray(c,b.split(/\s+/))===-1){b+=(b?" ":"")+c;if(d.className)d.className.baseVal=b;else d.setAttribute("class",b)}})}else a(this).addClass(b)})}})})(jQuery);